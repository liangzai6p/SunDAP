<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunyard.ars.system.dao.mc.LabExhibitFieldMapper">
  <resultMap id="BaseResultMap" type="com.sunyard.ars.system.pojo.mc.LabExhibitField">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="ROWNO" jdbcType="DECIMAL" property="rowno" />
    <result column="MODEL_ID" jdbcType="DECIMAL" property="modelId" />
    <result column="TABLE_FIELD_ID" jdbcType="DECIMAL" property="tableFieldId" />
    <result column="FORMAT" jdbcType="CHAR" property="format" />
    <result column="ISFIND" jdbcType="CHAR" property="isfind" />
    <result column="ISDROPDOWN" jdbcType="CHAR" property="isdropdown" />
    <result column="ISIMPORTANT" jdbcType="CHAR" property="isimportant" />
    <result column="RELATE_ID" jdbcType="DECIMAL" property="relateId" />
    <result column="OPERATOR" jdbcType="CHAR" property="operator" />
    <result column="EXHIBIT_NAME" jdbcType="VARCHAR" property="exhibitName" />
    <result column="FILTER_TYPE" jdbcType="CHAR" property="filterType" />
    <result column="ISTUOMIN" jdbcType="CHAR" property="istuomin" />
    <result column="ISPICTUREFIELD" jdbcType="CHAR" property="ispicturefield" />
  </resultMap>
  <insert id="insert" parameterType="com.sunyard.ars.system.pojo.mc.LabExhibitField">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into LAB_EXHIBIT_FIELD_TB (ID, ROWNO, MODEL_ID, 
      TABLE_FIELD_ID, FORMAT, ISFIND, 
      ISDROPDOWN, ISIMPORTANT, RELATE_ID, 
      OPERATOR, EXHIBIT_NAME, FILTER_TYPE, 
      ISTUOMIN, ISPICTUREFIELD)
    values (#{id,jdbcType=DECIMAL}, #{rowno,jdbcType=DECIMAL}, #{modelId,jdbcType=DECIMAL}, 
      #{tableFieldId,jdbcType=DECIMAL}, #{format,jdbcType=CHAR}, #{isfind,jdbcType=CHAR}, 
      #{isdropdown,jdbcType=CHAR}, #{isimportant,jdbcType=CHAR}, #{relateId,jdbcType=DECIMAL}, 
      #{operator,jdbcType=CHAR}, #{exhibitName,jdbcType=VARCHAR}, #{filterType,jdbcType=CHAR}, 
      #{istuomin,jdbcType=CHAR}, #{ispicturefield,jdbcType=CHAR})
  </insert>
  <insert id="insertSelective" parameterType="com.sunyard.ars.system.pojo.mc.LabExhibitField">
    <selectKey resultType="INTEGER" order="BEFORE" keyProperty="id">  
  	 select case when max(id)+1 is null then 1 else max(id)+1 end as id   from LAB_EXHIBIT_FIELD_TB
	</selectKey> 
	
    insert into LAB_EXHIBIT_FIELD_TB
    <trim prefix="(" suffix=")" suffixOverrides=",">
        ID,
      <if test="rowno != null">
        ROWNO,
      </if>
      <if test="modelId != null">
        MODEL_ID,
      </if>
      <if test="tableFieldId != null">
        TABLE_FIELD_ID,
      </if>
      <if test="format != null">
        FORMAT,
      </if>
      <if test="isfind != null">
        ISFIND,
      </if>
      <if test="isdropdown != null">
        ISDROPDOWN,
      </if>
      <if test="isimportant != null">
        ISIMPORTANT,
      </if>
      <if test="relateId != null">
        RELATE_ID,
      </if>
      <if test="operator != null">
        OPERATOR,
      </if>
      <if test="exhibitName != null">
        EXHIBIT_NAME,
      </if>
      <if test="filterType != null">
        FILTER_TYPE,
      </if>
      <if test="istuomin != null">
        ISTUOMIN,
      </if>
      <if test="ispicturefield != null">
        ISPICTUREFIELD,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
        #{id,jdbcType=DECIMAL},
      <if test="rowno != null">
        #{rowno,jdbcType=DECIMAL},
      </if>
      <if test="modelId != null">
        #{modelId,jdbcType=DECIMAL},
      </if>
      <if test="tableFieldId != null">
        #{tableFieldId,jdbcType=DECIMAL},
      </if>
      <if test="format != null">
        #{format,jdbcType=CHAR},
      </if>
      <if test="isfind != null">
        #{isfind,jdbcType=CHAR},
      </if>
      <if test="isdropdown != null">
        #{isdropdown,jdbcType=CHAR},
      </if>
      <if test="isimportant != null">
        #{isimportant,jdbcType=CHAR},
      </if>
      <if test="relateId != null">
        #{relateId,jdbcType=DECIMAL},
      </if>
      <if test="operator != null">
        #{operator,jdbcType=CHAR},
      </if>
      <if test="exhibitName != null">
        #{exhibitName,jdbcType=VARCHAR},
      </if>
      <if test="filterType != null">
        #{filterType,jdbcType=CHAR},
      </if>
      <if test="istuomin != null">
        #{istuomin,jdbcType=CHAR},
      </if>
      <if test="ispicturefield != null">
        #{ispicturefield,jdbcType=CHAR},
      </if>
    </trim>
  </insert>
  
  <!--获取模型展现字段-->
  <select id="showExhibitField"  parameterType = "java.lang.Integer"   resultType="java.util.HashMap">
      SELECT  a.ID,a.NAME,c.exhibit_name CH_NAME
      FROM MC_FIELD_TB a,LAB_EXHIBIT_FIELD_TB c WHERE a.ID=c.TABLE_FIELD_ID
      AND c.MODEL_ID= #{modelId,jdbcType=INTEGER}
      ORDER  BY c.ROWNO
  </select>
</mapper>