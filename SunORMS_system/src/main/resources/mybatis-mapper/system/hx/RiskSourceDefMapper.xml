<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunyard.ars.system.dao.hx.RiskSourceDefMapper">
  <resultMap id="BaseResultMap" type="com.sunyard.ars.system.bean.hx.RiskSourceDef">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="SOURCE_NO" jdbcType="VARCHAR" property="sourceNo" />
    <result column="SOURCE_TYPE" jdbcType="VARCHAR" property="sourceType" />
    <result column="SOURCE_NAME" jdbcType="VARCHAR" property="sourceName" />
    <result column="IS_NEED" jdbcType="VARCHAR" property="isNeed" />
    <result column="REMARK" jdbcType="VARCHAR" property="remark" />
    <result column="MODI_USER" jdbcType="VARCHAR" property="modiUser" />
    <result column="MODI_TIME" jdbcType="VARCHAR" property="modiTime" />
    <result column="MODI_REMARK" jdbcType="VARCHAR" property="modiRemark" />
    <result column="STATE" jdbcType="VARCHAR" property="state" />
    <result column="RISK_TYPE" jdbcType="VARCHAR" property="riskType" />
  </resultMap>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    SOURCE_NO, SOURCE_TYPE, SOURCE_NAME, IS_NEED, REMARK, MODI_USER, MODI_TIME, MODI_REMARK, 
    STATE ,RISK_TYPE
  </sql>
  <!-- 根据条件，主键非空查询 -->
  <select id="selectBySourceName" parameterType="map" resultMap="BaseResultMap">
    select 
    	<include refid="Base_Column_List" />
    from ET_RISK_SOURCE_DEF
    <where>
    	<if test="sourceName != null and sourceName != ''">
    		SOURCE_NAME = #{sourceName,jdbcType=VARCHAR}
    	</if>
    </where>
  </select>
  <!-- 根据条件，主键非空查询 -->
  <select id="selectByCondition" parameterType="map" resultMap="BaseResultMap">
    select 
    	<include refid="Base_Column_List" />
    from ET_RISK_SOURCE_DEF
    <where>
    	<if test="riskType != null and riskType != ''">
    		RISK_TYPE = #{riskType,jdbcType=VARCHAR}
    	</if>
    	<if test="isNeed != null and isNeed != ''">
    		AND IS_NEED = #{isNeed,jdbcType=VARCHAR}
    	</if>
    	<if test="sourceType != null and sourceType != ''">
    		AND SOURCE_TYPE = #{sourceType,jdbcType=VARCHAR}
    	</if>
    	<if test="sourceName != null and sourceName != ''">
    		AND SOURCE_NAME = #{sourceName,jdbcType=VARCHAR}
    	</if>
    </where>
    order by risk_type, source_type, source_name
  </select>
  <!-- 查询所有因素子类名称 -->
  <select id="selectAllDisSouType" resultMap="BaseResultMap">
    select 
    	distinct(SOURCE_TYPE)
    from ET_RISK_SOURCE_DEF
  </select>
  <!-- 根据sourceType条件选择-->
  <select id="selectAllBySourceType" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    	SOURCE_NAME,SOURCE_NO
    from ET_RISK_SOURCE_DEF
    where SOURCE_TYPE = #{sourceType,jdbcType=VARCHAR}
  </select>
  <!-- 根据主键查询 -->
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from ET_RISK_SOURCE_DEF
    where SOURCE_NO = #{sourceNo,jdbcType=VARCHAR}
  </select>
  <!-- 查询所有因素子类名称 -->
  <select id="selectAllSourceName" resultMap="BaseResultMap">
    select 
    	distinct(SOURCE_NAME)
    from ET_RISK_SOURCE_DEF order by SOURCE_NAME 
  </select>
  <!-- 查询所有因素大类名称 -->
  <select id="selectAllSourceType" resultMap="BaseResultMap">
    select 
    	distinct(SOURCE_TYPE)
    from ET_RISK_SOURCE_DEF
  </select>
  <!-- 查询所有的数据-忽略属性是否为空  -->
  <select id="selectAllIgno" resultMap="BaseResultMap">
    select 
    	<include refid="Base_Column_List" />
    from ET_RISK_SOURCE_DEF order by source_name
  </select>
  <!-- 查询所有存在数据 -->
  <select id="selectAll" parameterType="com.sunyard.ars.system.bean.hx.RiskSourceDef" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select 
    <include refid="Base_Column_List" />
    from ET_RISK_SOURCE_DEF
    <where>
    	<if test="sourceNo != null and sourceNo != ''">
        	SOURCE_NO,
      	</if>
    </where>
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from ET_RISK_SOURCE_DEF
    where SOURCE_NO = #{sourceNo,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.sunyard.ars.system.bean.hx.RiskSourceDef">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into ET_RISK_SOURCE_DEF (SOURCE_NO, SOURCE_TYPE, SOURCE_NAME, 
      IS_NEED, REMARK, MODI_USER, 
      MODI_TIME, MODI_REMARK, STATE, RISK_TYPE
      )
    values (#{sourceNo,jdbcType=VARCHAR}, #{sourceType,jdbcType=VARCHAR}, #{sourceName,jdbcType=VARCHAR}, 
      #{isNeed,jdbcType=VARCHAR}, #{remark,jdbcType=VARCHAR}, #{modiUser,jdbcType=VARCHAR}, 
      #{modiTime,jdbcType=VARCHAR}, #{modiRemark,jdbcType=VARCHAR}, #{state,jdbcType=VARCHAR}, #{riskType,jdbcType=VARCHAR}
      )
  </insert>
  <!-- 新增插入，非空属性判断 -->
  <insert id="insertSelective" parameterType="com.sunyard.ars.system.bean.hx.RiskSourceDef">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <!-- mybatis 自动生成主键 String 类型-->
    <selectKey resultType = "java.lang.String" order = "BEFORE" keyProperty = "sourceNo">
		SELECT SEQ_ET_RISK_SOURCE_DEF.NEXTVAL FROM DUAL
    </selectKey>
    
    insert into ET_RISK_SOURCE_DEF
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="sourceNo != null">
        SOURCE_NO,
      </if>
      <if test="sourceType != null">
        SOURCE_TYPE,
      </if>
      <if test="sourceName != null">
        SOURCE_NAME,
      </if>
      <if test="isNeed != null">
        IS_NEED,
      </if>
      <if test="remark != null">
        REMARK,
      </if>
      <if test="modiUser != null">
        MODI_USER,
      </if>
      <if test="modiTime != null">
        MODI_TIME,
      </if>
      <if test="modiRemark != null">
        MODI_REMARK,
      </if>
      <if test="state != null">
        STATE,
      </if>
      <if test="riskType != null">
        RISK_TYPE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="sourceNo != null">
        #{sourceNo,jdbcType=VARCHAR},
      </if>
      <if test="sourceType != null">
        #{sourceType,jdbcType=VARCHAR},
      </if>
      <if test="sourceName != null">
        #{sourceName,jdbcType=VARCHAR},
      </if>
      <if test="isNeed != null">
        #{isNeed,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        #{remark,jdbcType=VARCHAR},
      </if>
      <if test="modiUser != null">
        #{modiUser,jdbcType=VARCHAR},
      </if>
      <if test="modiTime != null">
        #{modiTime,jdbcType=VARCHAR},
      </if>
      <if test="modiRemark != null">
        #{modiRemark,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        #{state,jdbcType=VARCHAR},
      </if>
      <if test="riskType != null">
        #{riskType,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <!-- 根据主键sourceNo唯一标识，更新数据 -->
  <update id="updateByPrimaryKeySelective" parameterType="com.sunyard.ars.system.bean.hx.RiskSourceDef">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ET_RISK_SOURCE_DEF
    <set>
      <if test="sourceType != null">
        SOURCE_TYPE = #{sourceType,jdbcType=VARCHAR},
      </if>
      <if test="sourceName != null">
        SOURCE_NAME = #{sourceName,jdbcType=VARCHAR},
      </if>
      <if test="isNeed != null">
        IS_NEED = #{isNeed,jdbcType=VARCHAR},
      </if>
      <if test="remark != null">
        REMARK = #{remark,jdbcType=VARCHAR},
      </if>
      <if test="modiUser != null">
        MODI_USER = #{modiUser,jdbcType=VARCHAR},
      </if>
      <if test="modiTime != null">
        MODI_TIME = #{modiTime,jdbcType=VARCHAR},
      </if>
      <if test="modiRemark != null">
        MODI_REMARK = #{modiRemark,jdbcType=VARCHAR},
      </if>
      <if test="state != null">
        STATE = #{state,jdbcType=VARCHAR},
      </if>
      <if test="riskType != null">
        RISK_TYPE = #{riskType,jdbcType=VARCHAR},
      </if>
    </set>
    where SOURCE_NO = #{sourceNo,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.sunyard.ars.system.bean.hx.RiskSourceDef">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update ET_RISK_SOURCE_DEF
    set SOURCE_TYPE = #{sourceType,jdbcType=VARCHAR},
      SOURCE_NAME = #{sourceName,jdbcType=VARCHAR},
      IS_NEED = #{isNeed,jdbcType=VARCHAR},
      REMARK = #{remark,jdbcType=VARCHAR},
      MODI_USER = #{modiUser,jdbcType=VARCHAR},
      MODI_TIME = #{modiTime,jdbcType=VARCHAR},
      MODI_REMARK = #{modiRemark,jdbcType=VARCHAR},
      STATE = #{state,jdbcType=VARCHAR},
      RISK_TYPE = #{riskType,jdbcType=VARCHAR}
    where SOURCE_NO = #{sourceNo,jdbcType=VARCHAR}
  </update>
  
  <!-- 获得最大id -->
  <select id="getMaxId" resultType="java.lang.Integer">
	select max(SOURCE_NO+1) maxNum from ET_RISK_SOURCE_DEF 
  </select>
  
</mapper>