<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunyard.ars.system.dao.hx.ArmsEntrySettingMapper">
  <resultMap id="BaseResultMap" type="com.sunyard.ars.system.bean.hx.ArmsEntrySetting">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <result column="ID" jdbcType="DECIMAL" property="id" />
    <result column="NAME" jdbcType="VARCHAR" property="name" />
    <result column="DESCRIPTION" jdbcType="VARCHAR" property="description" />
    <result column="ALARM_LEVEL" jdbcType="DECIMAL" property="alarmLevel" />
    <result column="TABLE_ID" jdbcType="DECIMAL" property="tableId" />
    <result column="GROUP_ID" jdbcType="DECIMAL" property="groupId" />
    <result column="GROUP_NO" jdbcType="DECIMAL" property="groupNo" />
    <result column="PRIVNAME" jdbcType="VARCHAR" property="privname" />
    <result column="FOLDERID" jdbcType="DECIMAL" property="folderid" />
    <result column="EXHI_REL_ID" jdbcType="DECIMAL" property="exhiRelId" />
    <result column="MESSAGE_GROUPID" jdbcType="DECIMAL" property="messageGroupid" />
    <result column="ISSAVE" jdbcType="DECIMAL" property="issave" />
    <result column="ISCOMPUTER" jdbcType="DECIMAL" property="iscomputer" />
    <result column="TODATE_DEL" jdbcType="DECIMAL" property="todateDel" />
    <result column="HISDATA_DAYS" jdbcType="DECIMAL" property="hisdataDays" />
    <result column="DEALTYPE" jdbcType="DECIMAL" property="dealtype" />
    <result column="NOTICETYPE" jdbcType="DECIMAL" property="noticetype" />
    <result column="STATUS" jdbcType="DECIMAL" property="status" />
    <result column="COST" jdbcType="FLOAT" property="cost" />
    <result column="EXCTYPE" jdbcType="DECIMAL" property="exctype" />
    <result column="ONEDAY" jdbcType="VARCHAR" property="oneday" />
    <result column="STARTDAY" jdbcType="CHAR" property="startday" />
    <result column="ENDDAY" jdbcType="CHAR" property="endday" />
    <result column="ISMAIL" jdbcType="DECIMAL" property="ismail" />
    <result column="ISSMS" jdbcType="DECIMAL" property="issms" />
    <result column="SHOW_NAME" jdbcType="VARCHAR" property="showName" />
    <result column="SELECT_CONDITION" jdbcType="VARCHAR" property="selectCondition" />
    <result column="MODEL_ID" jdbcType="DECIMAL" property="modelId" />
    <result column="CFG_FIELD" jdbcType="VARCHAR" property="cfgField" />
    <result column="TRAD_BUSI" jdbcType="VARCHAR" property="tradBusi" />
    <result column="BUSI_LINE" jdbcType="VARCHAR" property="busiLine" />
    <result column="FEEDBACK_DAYS" jdbcType="DECIMAL" property="feedbackDays" />
    <result column="ISRULELAB" jdbcType="DECIMAL" property="isrulelab" />
    <result column="FILTER_TYPE" jdbcType="DECIMAL" property="filterType" />
    <result column="ISFINANCE" jdbcType="DECIMAL" property="isfinance" />
  </resultMap>
    <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
   	  ID, NAME, DESCRIPTION, 
      ALARM_LEVEL, TABLE_ID, GROUP_ID, 
      GROUP_NO, PRIVNAME, FOLDERID, 
      EXHI_REL_ID, MESSAGE_GROUPID, ISSAVE, 
      ISCOMPUTER, TODATE_DEL, HISDATA_DAYS, 
      DEALTYPE, NOTICETYPE, STATUS, 
      COST, EXCTYPE, ONEDAY, 
      STARTDAY, ENDDAY, ISMAIL, 
      ISSMS, SHOW_NAME, SELECT_CONDITION, 
      TRAD_BUSI, 
      BUSI_LINE, FEEDBACK_DAYS,  
      FILTER_TYPE, ISFINANCE
  </sql>
  <insert id="insert" parameterType="com.sunyard.ars.system.bean.hx.ArmsEntrySetting">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into mc_model_tb (ID, NAME, DESCRIPTION, 
      ALARM_LEVEL, TABLE_ID, GROUP_ID, 
      GROUP_NO, PRIVNAME, FOLDERID, 
      EXHI_REL_ID, MESSAGE_GROUPID, ISSAVE, 
      ISCOMPUTER, TODATE_DEL, HISDATA_DAYS, 
      DEALTYPE, NOTICETYPE, STATUS, 
      COST, EXCTYPE, ONEDAY, 
      STARTDAY, ENDDAY, ISMAIL, 
      ISSMS, SHOW_NAME, SELECT_CONDITION, 
      MODEL_ID, CFG_FIELD, TRAD_BUSI, 
      BUSI_LINE, FEEDBACK_DAYS, ISRULELAB, 
      FILTER_TYPE, ISFINANCE)
    values (#{id,jdbcType=DECIMAL}, #{name,jdbcType=VARCHAR}, #{description,jdbcType=VARCHAR}, 
      #{alarmLevel,jdbcType=DECIMAL}, #{tableId,jdbcType=DECIMAL}, #{groupId,jdbcType=DECIMAL}, 
      #{groupNo,jdbcType=DECIMAL}, #{privname,jdbcType=VARCHAR}, #{folderid,jdbcType=DECIMAL}, 
      #{exhiRelId,jdbcType=DECIMAL}, #{messageGroupid,jdbcType=DECIMAL}, #{issave,jdbcType=DECIMAL}, 
      #{iscomputer,jdbcType=DECIMAL}, #{todateDel,jdbcType=DECIMAL}, #{hisdataDays,jdbcType=DECIMAL}, 
      #{dealtype,jdbcType=DECIMAL}, #{noticetype,jdbcType=DECIMAL}, #{status,jdbcType=DECIMAL}, 
      #{cost,jdbcType=FLOAT}, #{exctype,jdbcType=DECIMAL}, #{oneday,jdbcType=VARCHAR}, 
      #{startday,jdbcType=CHAR}, #{endday,jdbcType=CHAR}, #{ismail,jdbcType=DECIMAL}, 
      #{issms,jdbcType=DECIMAL}, #{showName,jdbcType=VARCHAR}, #{selectCondition,jdbcType=VARCHAR}, 
      #{modelId,jdbcType=DECIMAL}, #{cfgField,jdbcType=VARCHAR}, #{tradBusi,jdbcType=VARCHAR}, 
      #{busiLine,jdbcType=VARCHAR}, #{feedbackDays,jdbcType=DECIMAL}, #{isrulelab,jdbcType=DECIMAL}, 
      #{filterType,jdbcType=DECIMAL}, #{isfinance,jdbcType=DECIMAL})
  </insert>
  <insert id="insertSelective" parameterType="com.sunyard.ars.system.bean.hx.ArmsEntrySetting">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into mc_model_tb
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="id != null">
        ID,
      </if>
      <if test="name != null">
        NAME,
      </if>
      <if test="description != null">
        DESCRIPTION,
      </if>
      <if test="alarmLevel != null">
        ALARM_LEVEL,
      </if>
      <if test="tableId != null">
        TABLE_ID,
      </if>
      <if test="groupId != null">
        GROUP_ID,
      </if>
      <if test="groupNo != null">
        GROUP_NO,
      </if>
      <if test="privname != null">
        PRIVNAME,
      </if>
      <if test="folderid != null">
        FOLDERID,
      </if>
      <if test="exhiRelId != null">
        EXHI_REL_ID,
      </if>
      <if test="messageGroupid != null">
        MESSAGE_GROUPID,
      </if>
      <if test="issave != null">
        ISSAVE,
      </if>
      <if test="iscomputer != null">
        ISCOMPUTER,
      </if>
      <if test="todateDel != null">
        TODATE_DEL,
      </if>
      <if test="hisdataDays != null">
        HISDATA_DAYS,
      </if>
      <if test="dealtype != null">
        DEALTYPE,
      </if>
      <if test="noticetype != null">
        NOTICETYPE,
      </if>
      <if test="status != null">
        STATUS,
      </if>
      <if test="cost != null">
        COST,
      </if>
      <if test="exctype != null">
        EXCTYPE,
      </if>
      <if test="oneday != null">
        ONEDAY,
      </if>
      <if test="startday != null">
        STARTDAY,
      </if>
      <if test="endday != null">
        ENDDAY,
      </if>
      <if test="ismail != null">
        ISMAIL,
      </if>
      <if test="issms != null">
        ISSMS,
      </if>
      <if test="showName != null">
        SHOW_NAME,
      </if>
      <if test="selectCondition != null">
        SELECT_CONDITION,
      </if>
      <if test="modelId != null">
        MODEL_ID,
      </if>
      <if test="cfgField != null">
        CFG_FIELD,
      </if>
      <if test="tradBusi != null">
        TRAD_BUSI,
      </if>
      <if test="busiLine != null">
        BUSI_LINE,
      </if>
      <if test="feedbackDays != null">
        FEEDBACK_DAYS,
      </if>
      <if test="isrulelab != null">
        ISRULELAB,
      </if>
      <if test="filterType != null">
        FILTER_TYPE,
      </if>
      <if test="isfinance != null">
        ISFINANCE,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="id != null">
        #{id,jdbcType=DECIMAL},
      </if>
      <if test="name != null">
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        #{description,jdbcType=VARCHAR},
      </if>
      <if test="alarmLevel != null">
        #{alarmLevel,jdbcType=DECIMAL},
      </if>
      <if test="tableId != null">
        #{tableId,jdbcType=DECIMAL},
      </if>
      <if test="groupId != null">
        #{groupId,jdbcType=DECIMAL},
      </if>
      <if test="groupNo != null">
        #{groupNo,jdbcType=DECIMAL},
      </if>
      <if test="privname != null">
        #{privname,jdbcType=VARCHAR},
      </if>
      <if test="folderid != null">
        #{folderid,jdbcType=DECIMAL},
      </if>
      <if test="exhiRelId != null">
        #{exhiRelId,jdbcType=DECIMAL},
      </if>
      <if test="messageGroupid != null">
        #{messageGroupid,jdbcType=DECIMAL},
      </if>
      <if test="issave != null">
        #{issave,jdbcType=DECIMAL},
      </if>
      <if test="iscomputer != null">
        #{iscomputer,jdbcType=DECIMAL},
      </if>
      <if test="todateDel != null">
        #{todateDel,jdbcType=DECIMAL},
      </if>
      <if test="hisdataDays != null">
        #{hisdataDays,jdbcType=DECIMAL},
      </if>
      <if test="dealtype != null">
        #{dealtype,jdbcType=DECIMAL},
      </if>
      <if test="noticetype != null">
        #{noticetype,jdbcType=DECIMAL},
      </if>
      <if test="status != null">
        #{status,jdbcType=DECIMAL},
      </if>
      <if test="cost != null">
        #{cost,jdbcType=FLOAT},
      </if>
      <if test="exctype != null">
        #{exctype,jdbcType=DECIMAL},
      </if>
      <if test="oneday != null">
        #{oneday,jdbcType=VARCHAR},
      </if>
      <if test="startday != null">
        #{startday,jdbcType=CHAR},
      </if>
      <if test="endday != null">
        #{endday,jdbcType=CHAR},
      </if>
      <if test="ismail != null">
        #{ismail,jdbcType=DECIMAL},
      </if>
      <if test="issms != null">
        #{issms,jdbcType=DECIMAL},
      </if>
      <if test="showName != null">
        #{showName,jdbcType=VARCHAR},
      </if>
      <if test="selectCondition != null">
        #{selectCondition,jdbcType=VARCHAR},
      </if>
      <if test="modelId != null">
        #{modelId,jdbcType=DECIMAL},
      </if>
      <if test="cfgField != null">
        #{cfgField,jdbcType=VARCHAR},
      </if>
      <if test="tradBusi != null">
        #{tradBusi,jdbcType=VARCHAR},
      </if>
      <if test="busiLine != null">
        #{busiLine,jdbcType=VARCHAR},
      </if>
      <if test="feedbackDays != null">
        #{feedbackDays,jdbcType=DECIMAL},
      </if>
      <if test="isrulelab != null">
        #{isrulelab,jdbcType=DECIMAL},
      </if>
      <if test="filterType != null">
        #{filterType,jdbcType=DECIMAL},
      </if>
      <if test="isfinance != null">
        #{isfinance,jdbcType=DECIMAL},
      </if>
    </trim>
  </insert>
  <select id="selectBySelective" parameterType="string" resultType="map">
  SELECT ROWNUM SEQ, ENTRY_ID, NAME, FAVORITE_TIME
          FROM (SELECT AFT.ENTRY_ID,
                       AES.NAME,
                       MAX(AFT.FAVORITE_TIME) FAVORITE_TIME
                  FROM ARMS_FAVORITE_TB AFT
                  JOIN mc_model_tb AES
                    ON AFT.ENTRY_ID = AES.ID
                 <where>
                  And AFT.TYPE = '0'
                  <if test="organNo !=null and organNo !='' and organNo!=9999">
                  and (instr((select t.ORGAN_NO from SM_ORGAN_TB t where t.ORGAN_NO=#{organNo}),AFT.FAVORITE_ORGAN)>0 OR AFT.ISCOMMON='1')
                  </if>
                 </where>
                
                 GROUP BY AFT.ENTRY_ID, AES.NAME
                 ORDER BY FAVORITE_TIME)
    <where>
    <if test="modelName!=null and modelName!='' ">
   AND  NAME like '%'||#{modelName}||'%'
   </if>
   <if test="startAddTime!=null and  startAddTime!='' and endAddTime!=null and endAddTime !=''">
    AND FAVORITE_TIME BETWEEN to_date(#{startAddTime},'yyyy/mm/dd') AND to_date(#{endAddTime},'yyyy/mm/dd')
   </if>
    </where>              
  </select>

   <select id="selectByEntryId" parameterType="string" resultType="map">  
    SELECT TAB.*, T.ID DETAIL_ENTRYID
     FROM (SELECT T1.NAME             NAME,
               T1.ALARM_LEVEL      ALARM_LEVEL,
               T1.SELECT_CONDITION CONDITION,
               T1.TABLE_ID         TABLE_ID,
               T2.ID               EXHIBIT_ID,
               T2.RELATING_ID      RELATING_ID,
               T3.TABLE_NAME       TABLE_NAME
          FROM mc_model_tb   T1,
               ARMS_EXHIBIT_SETTING T2,
               ARMS_TABLE_DEF       T3
              <where>
              T1.EXHI_REL_ID = T2.ID
               AND T2.TABLE_ID = T3.ID
               <if test="entryId !=null and entryId!=''">
               AND T1.ID = #{entryId}
              </if>
              </where>  
                   ) TAB
  LEFT JOIN mc_model_tb T
    ON T.EXHI_REL_ID = TAB.RELATING_ID         
  </select>

	<!-- 查询所有数据,根据entryid -->
	<select id="selectNameByEntryid" parameterType="map" resultType="com.sunyard.ars.system.bean.hx.ArmsEntrySetting">
		SELECT 
			<include refid="Base_Column_List" />
		FROM mc_model_tb
		<where>
			<if test="entryid != null and entryid != ''">
				ID = #{entryid,jdbcType=VARCHAR}
			</if>
		</where>
	</select>
	<!-- 查询所有数据 -->
	<select id="selectAllName" resultType="com.sunyard.ars.system.bean.hx.ArmsEntrySetting">
		SELECT * FROM mc_model_tb where status = '1' and detail_type='0' and model_type = '0' ORDER BY name
	</select>
</mapper>