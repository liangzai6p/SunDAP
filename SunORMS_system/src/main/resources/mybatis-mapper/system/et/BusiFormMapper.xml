<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sunyard.ars.system.dao.et.BusiFormMapper">
  <resultMap id="BaseResultMap" type="com.sunyard.ars.system.bean.et.BusiForm">
    <id column="FORM_ID" jdbcType="VARCHAR" property="formId" />
    <result column="FORM_TYPE" jdbcType="CHAR" property="formType" />
    <result column="OPERATION_CLASS" jdbcType="VARCHAR" property="operationClass" />
    <result column="WORK_DATE" jdbcType="CHAR" property="workDate" />
    <result column="WORK_TIME" jdbcType="CHAR" property="workTime" />
    <result column="XF_DATE" jdbcType="CHAR" property="xfDate" />
    <result column="XF_TIME" jdbcType="CHAR" property="xfTime" />
    <result column="NET_NO" jdbcType="VARCHAR" property="netNo" />
    <result column="TELLER_NO" jdbcType="VARCHAR" property="tellerNo" />
    <result column="TELLER_NO_2" jdbcType="VARCHAR" property="tellerNo2" />
    <result column="TELLER_NO_3" jdbcType="VARCHAR" property="tellerNo3" />
    <result column="OPERATION_DATE" jdbcType="CHAR" property="operationDate" />
    <result column="ACCOUNT_NO" jdbcType="VARCHAR" property="accountNo" />
    <result column="ACCOUNT_NAME" jdbcType="VARCHAR" property="accountName" />
    <result column="ACCOUNT_MONEY" jdbcType="DECIMAL" property="accountMoney" />
    <result column="VOUCHER_NO" jdbcType="VARCHAR" property="voucherNo" />
    <result column="VOUCHER_DATE" jdbcType="CHAR" property="voucherDate" />
    <result column="SUBPENA_NO" jdbcType="VARCHAR" property="subpenaNo" />
    <result column="FLOW_NO" jdbcType="VARCHAR" property="flowNo" />
    <result column="BACK_DATE" jdbcType="CHAR" property="backDate" />
    <result column="SLIP_NO" jdbcType="VARCHAR" property="slipNo" />
    <result column="SLIP_TYPE" jdbcType="VARCHAR" property="slipType" />
    <result column="OPERATION_TYPE" jdbcType="VARCHAR" property="operationType" />
    <result column="SLIP_NAME" jdbcType="VARCHAR" property="slipName" />
    <result column="SLIP_LEVEL" jdbcType="CHAR" property="slipLevel" />
    <result column="AMERCE_MONEY" jdbcType="DECIMAL" property="amerceMoney" />
    <result column="AMERCE_SCORE" jdbcType="DECIMAL" property="amerceScore" />
    <result column="FORM_DESCRIPTION" jdbcType="VARCHAR" property="formDescription" />
    <result column="INTERIOR_ET_NO" jdbcType="VARCHAR" property="interiorEtNo" />
    <result column="INTERIOR_ET_NAME" jdbcType="VARCHAR" property="interiorEtName" />
    <result column="CHECKER_NO" jdbcType="VARCHAR" property="checkerNo" />
    <result column="CHECKER_NAME" jdbcType="VARCHAR" property="checkerName" />
    <result column="CHECKER_ORGAN_NO" jdbcType="VARCHAR" property="checkerOrganNo" />
    <result column="IMAGE_INDEX" jdbcType="VARCHAR" property="imageIndex" />
    <result column="ANNEX_PATH" jdbcType="VARCHAR" property="annexPath" />
    <result column="SOURCE_FLAG" jdbcType="VARCHAR" property="sourceFlag" />
    <result column="OVERDUE_FLAG_1" jdbcType="CHAR" property="overdueFlag1" />
    <result column="OVERDUE_FLAG_2" jdbcType="CHAR" property="overdueFlag2" />
    <result column="OVERDUE_FLAG_3" jdbcType="CHAR" property="overdueFlag3" />
    <result column="OVERDUE_REMARK" jdbcType="VARCHAR" property="overdueRemark" />
    <result column="PROCESS_NODES" jdbcType="VARCHAR" property="processNodes" />
    <result column="NODE_NO" jdbcType="VARCHAR" property="nodeNo" />
    <result column="ACTIVE_FLAG" jdbcType="CHAR" property="activeFlag" />
    <result column="CORRELATIVE_ID" jdbcType="VARCHAR" property="correlativeId" />
    <result column="INTERIOR_FORM_ID" jdbcType="VARCHAR" property="interiorFormId" />
    <result column="ACTIVE_DATE" jdbcType="VARCHAR" property="activeDate" />
    <result column="DEGRADE" jdbcType="VARCHAR" property="degrade" />
    <result column="TABLE_NAME" jdbcType="VARCHAR" property="tableName" />
    <result column="ENTRY_ID" jdbcType="VARCHAR" property="entryId" />
    <result column="ENTRY_NAME" jdbcType="VARCHAR" property="entryName" />
    <result column="ENTRYROW_ID" jdbcType="VARCHAR" property="entryrowId" />
    <result column="CC_LEADER" jdbcType="VARCHAR" property="ccLeader" />
    <result column="SEAN_LEADER" jdbcType="VARCHAR" property="seanLeader" />
    <result column="VOUCHER_NAME" jdbcType="VARCHAR" property="voucherName" />
    <result column="TELLER_NAME" jdbcType="VARCHAR" property="tellerName" />
    <result column="NET_NAME" jdbcType="VARCHAR" property="netName" />
    <result column="SLIP_NO_BAK" jdbcType="VARCHAR" property="slipNoBak" />
    <result column="LEADER_REMARK" jdbcType="VARCHAR" property="leaderRemark" />
    <result column="CURRENCY_TYPE" jdbcType="VARCHAR" property="currencyType" />
    <result column="CHECKER_NO_2" jdbcType="VARCHAR" property="checkerNo2" />
    <result column="BRASRULECONTEXT" jdbcType="VARCHAR" property="brasrulecontext" />
    <result column="ALARM_LEVEL" jdbcType="VARCHAR" property="alarmLevel" />
    <result column="DEAL_NO" jdbcType="VARCHAR" property="dealNo" />
    <result column="APPROVE_NO" jdbcType="VARCHAR" property="approveNo" />
    <result column="DEAL_RESULT_F" jdbcType="VARCHAR" property="dealResultF" />
    <result column="DEAL_RESULT_L" jdbcType="VARCHAR" property="dealResultL" />
    <result column="DEAL_ORGAN" jdbcType="VARCHAR" property="dealOrgan" />
    <result column="BUSI_NO_CT" jdbcType="VARCHAR" property="busiNoCt" />
    <result column="BUSI_NO_TX" jdbcType="VARCHAR" property="busiNoTx" />
    <result column="ALARM_CREATE_TIME" jdbcType="VARCHAR" property="alarmCreateTime" />
    <result column="FORM_STATE" jdbcType="VARCHAR" property="formState" />
    <result column="FX_FLAG" jdbcType="VARCHAR" property="fxFlag" />
    <result column="DETAILURL" jdbcType="VARCHAR" property="detailurl" />
    <result column="RISK_ORGAN" jdbcType="VARCHAR" property="riskOrgan" />
    <result column="DEAL_ORGAN_LIST" jdbcType="VARCHAR" property="dealOrganList" />
    <result column="CORR_USER_NO" jdbcType="VARCHAR" property="corrUserNo" />
    <result column="CORR_BACK_DATE" jdbcType="VARCHAR" property="corrBackDate" />
    <result column="CORR_DEAL_DATE" jdbcType="VARCHAR" property="corrDealDate" />
    <result column="RETURN_STATE" jdbcType="VARCHAR" property="returnState" />
    <result column="RETURN_DATE" jdbcType="VARCHAR" property="returnDate" />
    <result column="FILE_NAME" jdbcType="VARCHAR" property="fileName" />
    <result column="REAL_NAME" jdbcType="VARCHAR" property="realName" />
    <result column="FILE_PATH" jdbcType="VARCHAR" property="filePath" />
    <result column="FILE_EXT" jdbcType="VARCHAR" property="fileExt" />
    <result column="BRASRULECONTEXT_JM" jdbcType="VARCHAR" property="brasrulecontextJm" />
    <result column="IS_BF" jdbcType="VARCHAR" property="isBf" />
    <result column="BAKE_USER_NO" jdbcType="VARCHAR" property="bakeUserNo" />
    <result column="IS_SEE" jdbcType="VARCHAR" property="isSee" />
    <result column="SEE_DESC" jdbcType="VARCHAR" property="seeDesc" />
    <result column="ORG_DEAL_DATE" jdbcType="VARCHAR" property="orgDealDate" />
    <result column="PAR_DEAL_DATE" jdbcType="VARCHAR" property="parDealDate" />
    <result column="PAR_BACK_DATE" jdbcType="VARCHAR" property="parBackDate" />
    <result column="PAR_OVER_DAYS" jdbcType="VARCHAR" property="parOverDays" />
    <result column="RISK_SOURCE_REMAK" jdbcType="VARCHAR" property="riskSourceRemak" />
    <result column="RISK_SOURCE_NAME" jdbcType="VARCHAR" property="riskSourceName" />
    <result column="RISK_SOURCE_TYPE" jdbcType="VARCHAR" property="riskSourceType" />
    <result column="RISK_SOURCE_NO" jdbcType="VARCHAR" property="riskSourceNo" />
    <result column="RISK_TYPE" jdbcType="VARCHAR" property="riskType" />
    <result column="PROC_DATE" jdbcType="VARCHAR" property="procDate" />
    <result column="CREATE_TIME" jdbcType="VARCHAR" property="createTime" />
    <result column="CC_ORGAN" jdbcType="VARCHAR" property="ccOrgan" />
    <result column="CC_ROLE" jdbcType="VARCHAR" property="ccRole" />
    <result column="MODIFY_TYPE" jdbcType="CHAR" property="modifyType" />
    <result column="MODIFY_NODE" jdbcType="VARCHAR" property="modifyNode" />
    <result column="CC_TYPE" jdbcType="CHAR" property="ccType" />
    <result column="SEAN_ROLE" jdbcType="VARCHAR" property="seanRole" />
    <result column="QD_SLIP_MOID" jdbcType="VARCHAR" property="qdSlipMoid" />
  </resultMap>
  <sql id="Base_Column_List">
    FORM_ID, FORM_TYPE, OPERATION_CLASS, WORK_DATE, WORK_TIME, XF_DATE, XF_TIME, NET_NO, 
    TELLER_NO, TELLER_NO_2, TELLER_NO_3, OPERATION_DATE, ACCOUNT_NO, ACCOUNT_NAME, ACCOUNT_MONEY, 
    VOUCHER_NO, VOUCHER_DATE, SUBPENA_NO, FLOW_NO, BACK_DATE, SLIP_NO, SLIP_TYPE, OPERATION_TYPE, 
    SLIP_NAME, SLIP_LEVEL, AMERCE_MONEY, AMERCE_SCORE, FORM_DESCRIPTION, INTERIOR_ET_NO, 
    INTERIOR_ET_NAME, CHECKER_NO, CHECKER_NAME, CHECKER_ORGAN_NO, IMAGE_INDEX, ANNEX_PATH, 
    SOURCE_FLAG, OVERDUE_FLAG_1, OVERDUE_FLAG_2, OVERDUE_FLAG_3, OVERDUE_REMARK, PROCESS_NODES, 
    NODE_NO, ACTIVE_FLAG, CORRELATIVE_ID, INTERIOR_FORM_ID, ACTIVE_DATE, DEGRADE, TABLE_NAME, 
    ENTRY_ID, ENTRY_NAME, ENTRYROW_ID, CC_LEADER, SEAN_LEADER, VOUCHER_NAME, TELLER_NAME, 
    NET_NAME, SLIP_NO_BAK, LEADER_REMARK, CURRENCY_TYPE, CHECKER_NO_2, BRASRULECONTEXT, 
    ALARM_LEVEL, DEAL_NO, APPROVE_NO, DEAL_RESULT_F, 
    DEAL_RESULT_L, DEAL_ORGAN, BUSI_NO_CT, BUSI_NO_TX, ALARM_CREATE_TIME, 
    FORM_STATE, FX_FLAG, DETAILURL, RISK_ORGAN, DEAL_ORGAN_LIST, CORR_USER_NO, CORR_BACK_DATE, 
    CORR_DEAL_DATE, RETURN_STATE, RETURN_DATE, FILE_NAME, REAL_NAME, FILE_PATH, FILE_EXT, 
    BRASRULECONTEXT_JM, IS_BF, BAKE_USER_NO, IS_SEE, SEE_DESC, ORG_DEAL_DATE, PAR_DEAL_DATE, 
    PAR_BACK_DATE, PAR_OVER_DAYS, RISK_SOURCE_REMAK, RISK_SOURCE_NAME, RISK_SOURCE_TYPE, 
    RISK_SOURCE_NO, RISK_TYPE, PROC_DATE, CREATE_TIME,CC_ORGAN,CC_ROLE,MODIFY_TYPE,MODIFY_NODE,CC_TYPE,SEAN_ROLE,QD_SLIP_MOID
  </sql>
  <select id="selectByPrimaryKey" parameterType="java.lang.String" resultMap="BaseResultMap">
    select 
    <include refid="Base_Column_List" />
    from ET_BUSIFORM_TB
    where FORM_ID = #{formId,jdbcType=VARCHAR}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.String">
    delete from ET_BUSIFORM_TB
    where FORM_ID = #{formId,jdbcType=VARCHAR}
  </delete>
  
  <insert id="insertSelective" parameterType="com.sunyard.ars.system.bean.et.BusiForm">
    insert into ET_BUSIFORM_TB
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="formId != null">
        FORM_ID,
      </if>
      <if test="formType != null">
        FORM_TYPE,
      </if>
      <if test="operationClass != null">
        OPERATION_CLASS,
      </if>
      <if test="workDate != null">
        WORK_DATE,
      </if>
      <if test="workTime != null">
        WORK_TIME,
      </if>
      <if test="xfDate != null">
        XF_DATE,
      </if>
      <if test="xfTime != null">
        XF_TIME,
      </if>
      <if test="netNo != null">
        NET_NO,
      </if>
      <if test="tellerNo != null">
        TELLER_NO,
      </if>
      <if test="tellerNo2 != null">
        TELLER_NO_2,
      </if>
      <if test="tellerNo3 != null">
        TELLER_NO_3,
      </if>
      <if test="operationDate != null">
        OPERATION_DATE,
      </if>
      <if test="accountNo != null">
        ACCOUNT_NO,
      </if>
      <if test="accountName != null">
        ACCOUNT_NAME,
      </if>
      <if test="accountMoney != null">
        ACCOUNT_MONEY,
      </if>
      <if test="voucherNo != null">
        VOUCHER_NO,
      </if>
      <if test="voucherDate != null">
        VOUCHER_DATE,
      </if>
      <if test="subpenaNo != null">
        SUBPENA_NO,
      </if>
      <if test="flowNo != null">
        FLOW_NO,
      </if>
      <if test="backDate != null">
        BACK_DATE,
      </if>
      <if test="slipNo != null">
        SLIP_NO,
      </if>
      <if test="slipType != null">
        SLIP_TYPE,
      </if>
      <if test="operationType != null">
        OPERATION_TYPE,
      </if>
      <if test="slipName != null">
        SLIP_NAME,
      </if>
      <if test="slipLevel != null">
        SLIP_LEVEL,
      </if>
      <if test="amerceMoney != null">
        AMERCE_MONEY,
      </if>
      <if test="amerceScore != null">
        AMERCE_SCORE,
      </if>
      <if test="formDescription != null">
        FORM_DESCRIPTION,
      </if>
      <if test="interiorEtNo != null">
        INTERIOR_ET_NO,
      </if>
      <if test="interiorEtName != null">
        INTERIOR_ET_NAME,
      </if>
      <if test="checkerNo != null">
        CHECKER_NO,
      </if>
      <if test="checkerName != null">
        CHECKER_NAME,
      </if>
      <if test="checkerOrganNo != null">
        CHECKER_ORGAN_NO,
      </if>
      <if test="imageIndex != null">
        IMAGE_INDEX,
      </if>
      <if test="annexPath != null">
        ANNEX_PATH,
      </if>
      <if test="sourceFlag != null">
        SOURCE_FLAG,
      </if>
      <if test="overdueFlag1 != null">
        OVERDUE_FLAG_1,
      </if>
      <if test="overdueFlag2 != null">
        OVERDUE_FLAG_2,
      </if>
      <if test="overdueFlag3 != null">
        OVERDUE_FLAG_3,
      </if>
      <if test="overdueRemark != null">
        OVERDUE_REMARK,
      </if>
      <if test="processNodes != null">
        PROCESS_NODES,
      </if>
      <if test="nodeNo != null">
        NODE_NO,
      </if>
      <if test="activeFlag != null">
        ACTIVE_FLAG,
      </if>
      <if test="correlativeId != null">
        CORRELATIVE_ID,
      </if>
      <if test="interiorFormId != null">
        INTERIOR_FORM_ID,
      </if>
      <if test="activeDate != null">
        ACTIVE_DATE,
      </if>
      <if test="degrade != null">
        DEGRADE,
      </if>
      <if test="tableName != null">
        TABLE_NAME,
      </if>
      <if test="entryId != null">
        ENTRY_ID,
      </if>
      <if test="entryName != null">
        ENTRY_NAME,
      </if>
      <if test="entryrowId != null">
        ENTRYROW_ID,
      </if>
      <if test="ccLeader != null">
        CC_LEADER,
      </if>
      <if test="seanLeader != null">
        SEAN_LEADER,
      </if>
      <if test="voucherName != null">
        VOUCHER_NAME,
      </if>
      <if test="tellerName != null">
        TELLER_NAME,
      </if>
      <if test="netName != null">
        NET_NAME,
      </if>
      <if test="slipNoBak != null">
        SLIP_NO_BAK,
      </if>
      <if test="leaderRemark != null">
        LEADER_REMARK,
      </if>
      <if test="currencyType != null">
        CURRENCY_TYPE,
      </if>
      <if test="checkerNo2 != null">
        CHECKER_NO_2,
      </if>
      <if test="brasrulecontext != null">
        BRASRULECONTEXT,
      </if>
      <if test="alarmLevel != null">
        ALARM_LEVEL,
      </if>
      <if test="dealNo != null">
        DEAL_NO,
      </if>
      <if test="approveNo != null">
        APPROVE_NO,
      </if>
      <if test="dealResultF != null">
        DEAL_RESULT_F,
      </if>
      <if test="dealResultL != null">
        DEAL_RESULT_L,
      </if>
      <if test="dealOrgan != null">
        DEAL_ORGAN,
      </if>
      <if test="busiNoCt != null">
        BUSI_NO_CT,
      </if>
      <if test="busiNoTx != null">
        BUSI_NO_TX,
      </if>
      <if test="alarmCreateTime != null">
        ALARM_CREATE_TIME,
      </if>
      <if test="formState != null">
        FORM_STATE,
      </if>
      <if test="fxFlag != null">
        FX_FLAG,
      </if>
      <if test="detailurl != null">
        DETAILURL,
      </if>
      <if test="riskOrgan != null">
        RISK_ORGAN,
      </if>
      <if test="dealOrganList != null">
        DEAL_ORGAN_LIST,
      </if>
      <if test="corrUserNo != null">
        CORR_USER_NO,
      </if>
      <if test="corrBackDate != null">
        CORR_BACK_DATE,
      </if>
      <if test="corrDealDate != null">
        CORR_DEAL_DATE,
      </if>
      <if test="returnState != null">
        RETURN_STATE,
      </if>
      <if test="returnDate != null">
        RETURN_DATE,
      </if>
      <if test="fileName != null">
        FILE_NAME,
      </if>
      <if test="realName != null">
        REAL_NAME,
      </if>
      <if test="filePath != null">
        FILE_PATH,
      </if>
      <if test="fileExt != null">
        FILE_EXT,
      </if>
      <if test="brasrulecontextJm != null">
        BRASRULECONTEXT_JM,
      </if>
      <if test="isBf != null">
        IS_BF,
      </if>
      <if test="bakeUserNo != null">
        BAKE_USER_NO,
      </if>
      <if test="isSee != null">
        IS_SEE,
      </if>
      <if test="seeDesc != null">
        SEE_DESC,
      </if>
      <if test="orgDealDate != null">
        ORG_DEAL_DATE,
      </if>
      <if test="parDealDate != null">
        PAR_DEAL_DATE,
      </if>
      <if test="parBackDate != null">
        PAR_BACK_DATE,
      </if>
      <if test="parOverDays != null">
        PAR_OVER_DAYS,
      </if>
      <if test="riskSourceRemak != null">
        RISK_SOURCE_REMAK,
      </if>
      <if test="riskSourceName != null">
        RISK_SOURCE_NAME,
      </if>
      <if test="riskSourceType != null">
        RISK_SOURCE_TYPE,
      </if>
      <if test="riskSourceNo != null">
        RISK_SOURCE_NO,
      </if>
      <if test="riskType != null">
        RISK_TYPE,
      </if>
      <if test="procDate != null">
        PROC_DATE,
      </if>
      <if test="createTime != null">
        CREATE_TIME,
      </if>
      <if test="ccOrgan != null">
        CC_ORGAN,
      </if>
      <if test="ccRole != null">
        CC_ROLE,
      </if>
      <if test="ccType != null">
        CC_TYPE,
      </if>
      <if test="seanRole != null">
        SEAN_ROLE,
      </if>
      <if test="qdSlipMoid != null">
        QD_SLIP_MOID
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="formId != null">
        #{formId,jdbcType=VARCHAR},
      </if>
      <if test="formType != null">
        #{formType,jdbcType=CHAR},
      </if>
      <if test="operationClass != null">
        #{operationClass,jdbcType=VARCHAR},
      </if>
      <if test="workDate != null">
        #{workDate,jdbcType=CHAR},
      </if>
      <if test="workTime != null">
        #{workTime,jdbcType=CHAR},
      </if>
      <if test="xfDate != null">
        #{xfDate,jdbcType=CHAR},
      </if>
      <if test="xfTime != null">
        #{xfTime,jdbcType=CHAR},
      </if>
      <if test="netNo != null">
        #{netNo,jdbcType=VARCHAR},
      </if>
      <if test="tellerNo != null">
        #{tellerNo,jdbcType=VARCHAR},
      </if>
      <if test="tellerNo2 != null">
        #{tellerNo2,jdbcType=VARCHAR},
      </if>
      <if test="tellerNo3 != null">
        #{tellerNo3,jdbcType=VARCHAR},
      </if>
      <if test="operationDate != null">
        #{operationDate,jdbcType=CHAR},
      </if>
      <if test="accountNo != null">
        #{accountNo,jdbcType=VARCHAR},
      </if>
      <if test="accountName != null">
        #{accountName,jdbcType=VARCHAR},
      </if>
      <if test="accountMoney != null">
        #{accountMoney,jdbcType=DECIMAL},
      </if>
      <if test="voucherNo != null">
        #{voucherNo,jdbcType=VARCHAR},
      </if>
      <if test="voucherDate != null">
        #{voucherDate,jdbcType=CHAR},
      </if>
      <if test="subpenaNo != null">
        #{subpenaNo,jdbcType=VARCHAR},
      </if>
      <if test="flowNo != null">
        #{flowNo,jdbcType=VARCHAR},
      </if>
      <if test="backDate != null">
        #{backDate,jdbcType=CHAR},
      </if>
      <if test="slipNo != null">
        #{slipNo,jdbcType=VARCHAR},
      </if>
      <if test="slipType != null">
        #{slipType,jdbcType=VARCHAR},
      </if>
      <if test="operationType != null">
        #{operationType,jdbcType=VARCHAR},
      </if>
      <if test="slipName != null">
        #{slipName,jdbcType=VARCHAR},
      </if>
      <if test="slipLevel != null">
        #{slipLevel,jdbcType=CHAR},
      </if>
      <if test="amerceMoney != null">
        #{amerceMoney,jdbcType=DECIMAL},
      </if>
      <if test="amerceScore != null">
        #{amerceScore,jdbcType=DECIMAL},
      </if>
      <if test="formDescription != null">
        #{formDescription,jdbcType=VARCHAR},
      </if>
      <if test="interiorEtNo != null">
        #{interiorEtNo,jdbcType=VARCHAR},
      </if>
      <if test="interiorEtName != null">
        #{interiorEtName,jdbcType=VARCHAR},
      </if>
      <if test="checkerNo != null">
        #{checkerNo,jdbcType=VARCHAR},
      </if>
      <if test="checkerName != null">
        #{checkerName,jdbcType=VARCHAR},
      </if>
      <if test="checkerOrganNo != null">
        #{checkerOrganNo,jdbcType=VARCHAR},
      </if>
      <if test="imageIndex != null">
        #{imageIndex,jdbcType=VARCHAR},
      </if>
      <if test="annexPath != null">
        #{annexPath,jdbcType=VARCHAR},
      </if>
      <if test="sourceFlag != null">
        #{sourceFlag,jdbcType=VARCHAR},
      </if>
      <if test="overdueFlag1 != null">
        #{overdueFlag1,jdbcType=CHAR},
      </if>
      <if test="overdueFlag2 != null">
        #{overdueFlag2,jdbcType=CHAR},
      </if>
      <if test="overdueFlag3 != null">
        #{overdueFlag3,jdbcType=CHAR},
      </if>
      <if test="overdueRemark != null">
        #{overdueRemark,jdbcType=VARCHAR},
      </if>
      <if test="processNodes != null">
        #{processNodes,jdbcType=VARCHAR},
      </if>
      <if test="nodeNo != null">
        #{nodeNo,jdbcType=VARCHAR},
      </if>
      <if test="activeFlag != null">
        #{activeFlag,jdbcType=CHAR},
      </if>
      <if test="correlativeId != null">
        #{correlativeId,jdbcType=VARCHAR},
      </if>
      <if test="interiorFormId != null">
        #{interiorFormId,jdbcType=VARCHAR},
      </if>
      <if test="activeDate != null">
        #{activeDate,jdbcType=VARCHAR},
      </if>
      <if test="degrade != null">
        #{degrade,jdbcType=VARCHAR},
      </if>
      <if test="tableName != null">
        #{tableName,jdbcType=VARCHAR},
      </if>
      <if test="entryId != null">
        #{entryId,jdbcType=VARCHAR},
      </if>
      <if test="entryName != null">
        #{entryName,jdbcType=VARCHAR},
      </if>
      <if test="entryrowId != null">
        #{entryrowId,jdbcType=VARCHAR},
      </if>
      <if test="ccLeader != null">
        #{ccLeader,jdbcType=VARCHAR},
      </if>
      <if test="seanLeader != null">
        #{seanLeader,jdbcType=VARCHAR},
      </if>
      <if test="voucherName != null">
        #{voucherName,jdbcType=VARCHAR},
      </if>
      <if test="tellerName != null">
        #{tellerName,jdbcType=VARCHAR},
      </if>
      <if test="netName != null">
        #{netName,jdbcType=VARCHAR},
      </if>
      <if test="slipNoBak != null">
        #{slipNoBak,jdbcType=VARCHAR},
      </if>
      <if test="leaderRemark != null">
        #{leaderRemark,jdbcType=VARCHAR},
      </if>
      <if test="currencyType != null">
        #{currencyType,jdbcType=VARCHAR},
      </if>
      <if test="checkerNo2 != null">
        #{checkerNo2,jdbcType=VARCHAR},
      </if>
      <if test="brasrulecontext != null">
        #{brasrulecontext,jdbcType=VARCHAR},
      </if>
      <if test="alarmLevel != null">
        #{alarmLevel,jdbcType=VARCHAR},
      </if>
      <if test="dealNo != null">
        #{dealNo,jdbcType=VARCHAR},
      </if>
      <if test="approveNo != null">
        #{approveNo,jdbcType=VARCHAR},
      </if>
      <if test="dealResultF != null">
        #{dealResultF,jdbcType=VARCHAR},
      </if>
      <if test="dealResultL != null">
        #{dealResultL,jdbcType=VARCHAR},
      </if>
      <if test="dealOrgan != null">
        #{dealOrgan,jdbcType=VARCHAR},
      </if>
      <if test="busiNoCt != null">
        #{busiNoCt,jdbcType=VARCHAR},
      </if>
      <if test="busiNoTx != null">
        #{busiNoTx,jdbcType=VARCHAR},
      </if>
      <if test="alarmCreateTime != null">
        #{alarmCreateTime,jdbcType=VARCHAR},
      </if>
      <if test="formState != null">
        #{formState,jdbcType=VARCHAR},
      </if>
      <if test="fxFlag != null">
        #{fxFlag,jdbcType=VARCHAR},
      </if>
      <if test="detailurl != null">
        #{detailurl,jdbcType=VARCHAR},
      </if>
      <if test="riskOrgan != null">
        #{riskOrgan,jdbcType=VARCHAR},
      </if>
      <if test="dealOrganList != null">
        #{dealOrganList,jdbcType=VARCHAR},
      </if>
      <if test="corrUserNo != null">
        #{corrUserNo,jdbcType=VARCHAR},
      </if>
      <if test="corrBackDate != null">
        #{corrBackDate,jdbcType=VARCHAR},
      </if>
      <if test="corrDealDate != null">
        #{corrDealDate,jdbcType=VARCHAR},
      </if>
      <if test="returnState != null">
        #{returnState,jdbcType=VARCHAR},
      </if>
      <if test="returnDate != null">
        #{returnDate,jdbcType=VARCHAR},
      </if>
      <if test="fileName != null">
        #{fileName,jdbcType=VARCHAR},
      </if>
      <if test="realName != null">
        #{realName,jdbcType=VARCHAR},
      </if>
      <if test="filePath != null">
        #{filePath,jdbcType=VARCHAR},
      </if>
      <if test="fileExt != null">
        #{fileExt,jdbcType=VARCHAR},
      </if>
      <if test="brasrulecontextJm != null">
        #{brasrulecontextJm,jdbcType=VARCHAR},
      </if>
      <if test="isBf != null">
        #{isBf,jdbcType=VARCHAR},
      </if>
      <if test="bakeUserNo != null">
        #{bakeUserNo,jdbcType=VARCHAR},
      </if>
      <if test="isSee != null">
        #{isSee,jdbcType=VARCHAR},
      </if>
      <if test="seeDesc != null">
        #{seeDesc,jdbcType=VARCHAR},
      </if>
      <if test="orgDealDate != null">
        #{orgDealDate,jdbcType=VARCHAR},
      </if>
      <if test="parDealDate != null">
        #{parDealDate,jdbcType=VARCHAR},
      </if>
      <if test="parBackDate != null">
        #{parBackDate,jdbcType=VARCHAR},
      </if>
      <if test="parOverDays != null">
        #{parOverDays,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceRemak != null">
        #{riskSourceRemak,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceName != null">
        #{riskSourceName,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceType != null">
        #{riskSourceType,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceNo != null">
        #{riskSourceNo,jdbcType=VARCHAR},
      </if>
      <if test="riskType != null">
        #{riskType,jdbcType=VARCHAR},
      </if>
      <if test="procDate != null">
        #{procDate,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null">
        #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="ccOrgan != null">
        #{ccOrgan,jdbcType=VARCHAR},
      </if>
      <if test="ccRole != null">
        #{ccRole,jdbcType=VARCHAR},
      </if>
      <if test="ccType != null">
        #{ccType,jdbcType=CHAR},
      </if>
      <if test="seanRole != null">
        #{seanRole,jdbcType=VARCHAR},
      </if>
      <if test="qdSlipMoid != null">
        #{qdSlipMoid,jdbcType=VARCHAR}
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.sunyard.ars.system.bean.et.BusiForm">
    update ET_BUSIFORM_TB
    <set>
      <if test="formType != null and formType != ''">
        FORM_TYPE = #{formType,jdbcType=CHAR},
      </if>
      <if test="operationClass != null and operationClass != ''">
        OPERATION_CLASS = #{operationClass,jdbcType=VARCHAR},
      </if>
      <if test="workDate != null and workDate != ''">
        WORK_DATE = #{workDate,jdbcType=CHAR},
      </if>
      <if test="workTime != null and workTime != ''">
        WORK_TIME = #{workTime,jdbcType=CHAR},
      </if>
      <if test="xfDate != null and xfDate != ''">
        XF_DATE = #{xfDate,jdbcType=CHAR},
      </if>
      <if test="xfTime != null and xfTime != ''">
        XF_TIME = #{xfTime,jdbcType=CHAR},
      </if>
      <if test="netNo != null and netNo != ''">
        NET_NO = #{netNo,jdbcType=VARCHAR},
      </if>
      <if test="tellerNo != null and tellerNo != ''">
        TELLER_NO = #{tellerNo,jdbcType=VARCHAR},
      </if>
      <if test="tellerNo2 != null and tellerNo2 != ''">
        TELLER_NO_2 = #{tellerNo2,jdbcType=VARCHAR},
      </if>
      <if test="tellerNo3 != null and tellerNo3 != ''">
        TELLER_NO_3 = #{tellerNo3,jdbcType=VARCHAR},
      </if>
      <if test="operationDate != null and operationDate != ''">
        OPERATION_DATE = #{operationDate,jdbcType=CHAR},
      </if>
      <if test="accountNo != null and accountNo != ''">
        ACCOUNT_NO = #{accountNo,jdbcType=VARCHAR},
      </if>
      <if test="accountName != null and accountName != ''">
        ACCOUNT_NAME = #{accountName,jdbcType=VARCHAR},
      </if>
      <if test="accountMoney != null and accountMoney != ''">
        ACCOUNT_MONEY = #{accountMoney,jdbcType=DECIMAL},
      </if>
      <if test="voucherNo != null and voucherNo != ''">
        VOUCHER_NO = #{voucherNo,jdbcType=VARCHAR},
      </if>
      <if test="voucherDate != null and voucherDate != ''">
        VOUCHER_DATE = #{voucherDate,jdbcType=CHAR},
      </if>
      <if test="subpenaNo != null and subpenaNo != ''">
        SUBPENA_NO = #{subpenaNo,jdbcType=VARCHAR},
      </if>
      <if test="flowNo != null and flowNo != ''">
        FLOW_NO = #{flowNo,jdbcType=VARCHAR},
      </if>
      <if test="backDate != null and backDate != ''">
        BACK_DATE = #{backDate,jdbcType=CHAR},
      </if>
      <if test="slipNo != null and slipNo != ''">
        SLIP_NO = #{slipNo,jdbcType=VARCHAR},
      </if>
      <if test="slipType != null and slipType != ''">
        SLIP_TYPE = #{slipType,jdbcType=VARCHAR},
      </if>
      <if test="operationType != null and operationType != ''">
        OPERATION_TYPE = #{operationType,jdbcType=VARCHAR},
      </if>
      <if test="slipName != null and slipName != ''">
        SLIP_NAME = #{slipName,jdbcType=VARCHAR},
      </if>
      <if test="slipLevel != null and slipLevel != ''">
        SLIP_LEVEL = #{slipLevel,jdbcType=CHAR},
      </if>
      <if test="amerceMoney != null and amerceMoney != ''">
        AMERCE_MONEY = #{amerceMoney,jdbcType=DECIMAL},
      </if>
      <if test="amerceScore != null and amerceScore != ''">
        AMERCE_SCORE = #{amerceScore,jdbcType=DECIMAL},
      </if>
      <if test="formDescription != null and formDescription != ''">
        FORM_DESCRIPTION = #{formDescription,jdbcType=VARCHAR},
      </if>
      <if test="interiorEtNo != null and interiorEtNo != ''">
        INTERIOR_ET_NO = #{interiorEtNo,jdbcType=VARCHAR},
      </if>
      <if test="interiorEtName != null and interiorEtName != ''">
        INTERIOR_ET_NAME = #{interiorEtName,jdbcType=VARCHAR},
      </if>
      <if test="checkerNo != null and checkerNo != ''">
        CHECKER_NO = #{checkerNo,jdbcType=VARCHAR},
      </if>
      <if test="checkerName != null and checkerName != ''">
        CHECKER_NAME = #{checkerName,jdbcType=VARCHAR},
      </if>
      <if test="checkerOrganNo != null and checkerOrganNo != ''">
        CHECKER_ORGAN_NO = #{checkerOrganNo,jdbcType=VARCHAR},
      </if>
      <if test="imageIndex != null and imageIndex != ''">
        IMAGE_INDEX = #{imageIndex,jdbcType=VARCHAR},
      </if>
      <if test="annexPath != null and annexPath != ''">
        ANNEX_PATH = #{annexPath,jdbcType=VARCHAR},
      </if>
      <if test="sourceFlag != null and sourceFlag != ''">
        SOURCE_FLAG = #{sourceFlag,jdbcType=VARCHAR},
      </if>
      <if test="overdueFlag1 != null and overdueFlag1 != ''">
        OVERDUE_FLAG_1 = #{overdueFlag1,jdbcType=CHAR},
      </if>
      <if test="overdueFlag2 != null and overdueFlag2 != ''">
        OVERDUE_FLAG_2 = #{overdueFlag2,jdbcType=CHAR},
      </if>
      <if test="overdueFlag3 != null and overdueFlag3 != ''">
        OVERDUE_FLAG_3 = #{overdueFlag3,jdbcType=CHAR},
      </if>
      <if test="overdueRemark != null and overdueRemark != ''">
        OVERDUE_REMARK = #{overdueRemark,jdbcType=VARCHAR},
      </if>
      <if test="processNodes != null and processNodes != ''">
        PROCESS_NODES = #{processNodes,jdbcType=VARCHAR},
      </if>
      <if test="nodeNo != null and nodeNo != ''">
        NODE_NO = #{nodeNo,jdbcType=VARCHAR},
      </if>
      <if test="activeFlag != null and activeFlag != ''">
        ACTIVE_FLAG = #{activeFlag,jdbcType=CHAR},
      </if>
      <if test="correlativeId != null and correlativeId != ''">
        CORRELATIVE_ID = #{correlativeId,jdbcType=VARCHAR},
      </if>
      <if test="interiorFormId != null and interiorFormId != ''">
        INTERIOR_FORM_ID = #{interiorFormId,jdbcType=VARCHAR},
      </if>
      <if test="activeDate != null and activeDate != ''">
        ACTIVE_DATE = #{activeDate,jdbcType=VARCHAR},
      </if>
      <if test="degrade != null and degrade != ''">
        DEGRADE = #{degrade,jdbcType=VARCHAR},
      </if>
      <if test="tableName != null and tableName != ''">
        TABLE_NAME = #{tableName,jdbcType=VARCHAR},
      </if>
      <if test="entryId != null and entryId != ''">
        ENTRY_ID = #{entryId,jdbcType=VARCHAR},
      </if>
      <if test="entryName != null and entryName != ''">
        ENTRY_NAME = #{entryName,jdbcType=VARCHAR},
      </if>
      <if test="entryrowId != null and entryrowId != ''">
        ENTRYROW_ID = #{entryrowId,jdbcType=VARCHAR},
      </if>
      <if test="ccLeader != null and ccLeader != ''">
        CC_LEADER = #{ccLeader,jdbcType=VARCHAR},
      </if>
      <if test="seanLeader != null and seanLeader != ''">
        SEAN_LEADER = #{seanLeader,jdbcType=VARCHAR},
      </if>
      <if test="voucherName != null and voucherName != ''">
        VOUCHER_NAME = #{voucherName,jdbcType=VARCHAR},
      </if>
      <if test="tellerName != null and tellerName != ''">
        TELLER_NAME = #{tellerName,jdbcType=VARCHAR},
      </if>
      <if test="netName != null and netName != ''">
        NET_NAME = #{netName,jdbcType=VARCHAR},
      </if>
      <if test="slipNoBak != null and slipNoBak != ''">
        SLIP_NO_BAK = #{slipNoBak,jdbcType=VARCHAR},
      </if>
      <if test="leaderRemark != null and leaderRemark != ''">
        LEADER_REMARK = #{leaderRemark,jdbcType=VARCHAR},
      </if>
      <if test="currencyType != null and currencyType != ''">
        CURRENCY_TYPE = #{currencyType,jdbcType=VARCHAR},
      </if>
      <if test="checkerNo2 != null and checkerNo2 != ''">
        CHECKER_NO_2 = #{checkerNo2,jdbcType=VARCHAR},
      </if>
      <if test="brasrulecontext != null and brasrulecontext != ''">
        BRASRULECONTEXT = #{brasrulecontext,jdbcType=VARCHAR},
      </if>
      <if test="alarmLevel != null and alarmLevel != ''">
        ALARM_LEVEL = #{alarmLevel,jdbcType=VARCHAR},
      </if>
      <if test="dealNo != null and dealNo != ''">
        DEAL_NO = #{dealNo,jdbcType=VARCHAR},
      </if>
      <if test="approveNo != null and approveNo != ''">
        APPROVE_NO = #{approveNo,jdbcType=VARCHAR},
      </if>
      <if test="dealResultF != null and dealResultF != ''">
        DEAL_RESULT_F = #{dealResultF,jdbcType=VARCHAR},
      </if>
      <if test="dealResultL != null and dealResultL != ''">
        DEAL_RESULT_L = #{dealResultL,jdbcType=VARCHAR},
      </if>
      <if test="dealOrgan != null and dealOrgan != ''">
        DEAL_ORGAN = #{dealOrgan,jdbcType=VARCHAR},
      </if>
      <if test="busiNoCt != null and busiNoCt != ''">
        BUSI_NO_CT = #{busiNoCt,jdbcType=VARCHAR},
      </if>
      <if test="busiNoTx != null and busiNoTx != ''">
        BUSI_NO_TX = #{busiNoTx,jdbcType=VARCHAR},
      </if>
      <if test="alarmCreateTime != null and alarmCreateTime != ''">
        ALARM_CREATE_TIME = #{alarmCreateTime,jdbcType=VARCHAR},
      </if>
      <if test="formState != null and formState != ''">
        FORM_STATE = #{formState,jdbcType=VARCHAR},
      </if>
      <if test="fxFlag != null and fxFlag != ''">
        FX_FLAG = #{fxFlag,jdbcType=VARCHAR},
      </if>
      <if test="detailurl != null and detailurl != ''">
        DETAILURL = #{detailurl,jdbcType=VARCHAR},
      </if>
      <if test="riskOrgan != null and riskOrgan != ''">
        RISK_ORGAN = #{riskOrgan,jdbcType=VARCHAR},
      </if>
      <if test="dealOrganList != null and dealOrganList != ''">
        DEAL_ORGAN_LIST = #{dealOrganList,jdbcType=VARCHAR},
      </if>
      <if test="corrUserNo != null and corrUserNo != ''">
        CORR_USER_NO = #{corrUserNo,jdbcType=VARCHAR},
      </if>
      <if test="corrBackDate != null and corrBackDate != ''">
        CORR_BACK_DATE = #{corrBackDate,jdbcType=VARCHAR},
      </if>
      <if test="corrDealDate != null and corrDealDate != ''">
        CORR_DEAL_DATE = #{corrDealDate,jdbcType=VARCHAR},
      </if>
      <if test="returnState != null and returnState != ''">
        RETURN_STATE = #{returnState,jdbcType=VARCHAR},
      </if>
      <if test="returnDate != null and returnDate != ''">
        RETURN_DATE = #{returnDate,jdbcType=VARCHAR},
      </if>
      <if test="fileName != null and fileName != ''">
        FILE_NAME = #{fileName,jdbcType=VARCHAR},
      </if>
      <if test="realName != null and realName != ''">
        REAL_NAME = #{realName,jdbcType=VARCHAR},
      </if>
      <if test="filePath != null and filePath != ''">
        FILE_PATH = #{filePath,jdbcType=VARCHAR},
      </if>
      <if test="fileExt != null and fileExt != ''">
        FILE_EXT = #{fileExt,jdbcType=VARCHAR},
      </if>
      <if test="brasrulecontextJm != null and brasrulecontextJm != ''">
        BRASRULECONTEXT_JM = #{brasrulecontextJm,jdbcType=VARCHAR},
      </if>
      <if test="isBf != null and isBf != ''">
        IS_BF = #{isBf,jdbcType=VARCHAR},
      </if>
      <if test="bakeUserNo != null and bakeUserNo != ''">
        BAKE_USER_NO = #{bakeUserNo,jdbcType=VARCHAR},
      </if>
      <if test="isSee != null and isSee != ''">
        IS_SEE = #{isSee,jdbcType=VARCHAR},
      </if>
      <if test="seeDesc != null and seeDesc != ''">
        SEE_DESC = #{seeDesc,jdbcType=VARCHAR},
      </if>
      <if test="orgDealDate != null and orgDealDate != ''">
        ORG_DEAL_DATE = #{orgDealDate,jdbcType=VARCHAR},
      </if>
      <if test="parDealDate != null and parDealDate != ''">
        PAR_DEAL_DATE = #{parDealDate,jdbcType=VARCHAR},
      </if>
      <if test="parBackDate != null and parBackDate != ''">
        PAR_BACK_DATE = #{parBackDate,jdbcType=VARCHAR},
      </if>
      <if test="parOverDays != null and parOverDays != ''">
        PAR_OVER_DAYS = #{parOverDays,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceRemak != null and riskSourceRemak != ''">
        RISK_SOURCE_REMAK = #{riskSourceRemak,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceName != null and riskSourceName != ''">
        RISK_SOURCE_NAME = #{riskSourceName,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceType != null and riskSourceType != ''">
        RISK_SOURCE_TYPE = #{riskSourceType,jdbcType=VARCHAR},
      </if>
      <if test="riskSourceNo != null and riskSourceNo != ''">
        RISK_SOURCE_NO = #{riskSourceNo,jdbcType=VARCHAR},
      </if>
      <if test="riskType != null and riskType != ''">
        RISK_TYPE = #{riskType,jdbcType=VARCHAR},
      </if>
      <if test="procDate != null and procDate != ''">
        PROC_DATE = #{procDate,jdbcType=VARCHAR},
      </if>
      <if test="createTime != null and createTime != ''">
        CREATE_TIME = #{createTime,jdbcType=VARCHAR},
      </if>
      <if test="ccOrgan != null and ccOrgan != ''">
        CC_ORGAN = #{ccOrgan,jdbcType=VARCHAR},
      </if>
      <if test="ccRole != null and ccRole != ''">
        CC_ROLE = #{ccRole,jdbcType=VARCHAR},
      </if>
      <if test="modifyType != null and modifyType != ''">
        MODIFY_TYPE = #{modifyType,jdbcType=CHAR},
      </if>
      <if test="modifyNode != null and modifyNode != ''">
        MODIFY_NODE = #{modifyNode,jdbcType=VARCHAR},
      </if>
      <if test="ccType != null and ccType != ''">
        CC_TYPE = #{ccType,jdbcType=CHAR},
      </if>
      <if test="seanRole != null and seanRole != ''">
        SEAN_ROLE = #{seanRole,jdbcType=VARCHAR},
      </if>
      <if test="qdSlipMoid != null and qdSlipMoid != ''">
        QD_SLIP_MOID = #{qdSlipMoid,jdbcType=VARCHAR}
      </if>
    </set>
    where FORM_ID = #{formId,jdbcType=VARCHAR}
  </update>
  
   <select id="selectBySelective" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List"/> from ET_BUSIFORM_TB T
  	<where>
  	  <if test="busiForm.formType != null and busiForm.formType !=''" >
        FORM_TYPE = #{busiForm.formType,jdbcType=CHAR}
      </if>
      
      <!--主管处理的情况  -->
      <if test="condition.formTypeList != null and condition.formTypeList.size != 0">
			AND ((FORM_TYPE in
			<foreach collection="condition.formTypeList" item="FORM_TYPE" index="index" open="(" close=")" separator="," >
				#{FORM_TYPE}
			</foreach>
				AND NODE_NO = #{condition.NodeNO}) 
			<if test="condition.nodeNoListOfMine != null and condition.nodeNoListOfMine.size != 0">
					or (NODE_NO in
				<foreach collection="condition.nodeNoListOfMine" item="NODE_NO" index="index" open="(" close=")" separator="," >
					#{NODE_NO}
				</foreach>
			        and FORM_TYPE is not null))
			</if>
     	</if>
      
      <!--核查员的情况  -->
       <if test="condition.formType != null and condition.formType !=''" >
       		and ((FORM_TYPE = #{condition.formType,jdbcType=CHAR}
       		AND NODE_NO = #{condition.NodeNO}) 
		<if test="condition.nodeNoListOfMine != null and condition.nodeNoListOfMine.size != 0">
				or (NODE_NO in
			<foreach collection="condition.nodeNoListOfMine" item="NODE_NO" index="index" open="(" close=")" separator="," >
				#{NODE_NO}
			</foreach>
		        and FORM_TYPE is not null)) 
		</if>
      </if>
      
  	  <if test="busiForm.formId != null and busiForm.formId !=''" >
  	  	AND FORM_ID LIKE '%' || upper(#{busiForm.formId,jdbcType=VARCHAR}) || '%'
      </if>
      <if test="busiForm.activeFlag != null and busiForm.activeFlag !=''" >
        AND ACTIVE_FLAG = #{busiForm.activeFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.tellerNo != null and busiForm.tellerNo !=''" >
        AND TELLER_NO = #{busiForm.tellerNo,jdbcType=CHAR}
      </if>
      <if test="busiForm.checkerNo != null and busiForm.checkerNo !=''" >
        AND CHECKER_NO = #{busiForm.checkerNo,jdbcType=CHAR}
      </if>

      <if test="busiForm.slipType != null and busiForm.slipType != '' " >
        AND SLIP_TYPE = #{busiForm.slipType,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipNo != null and busiForm.slipNo != '' " >
        AND SLIP_NO = #{busiForm.slipNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipLevel != null and busiForm.slipLevel != '' " >
        AND SLIP_LEVEL = #{busiForm.slipLevel,jdbcType=CHAR}
      </if>
      <if test="busiForm.sourceFlag != null and busiForm.sourceFlag != '' " >
        AND SOURCE_FLAG = #{busiForm.sourceFlag,jdbcType=CHAR}
      </if>
      
      <if test="busiForm.netNo != null and busiForm.netNo !=''" >
        AND NET_NO = #{busiForm.netNo,jdbcType=CHAR}
      </if>
	  <if test="condition.netNoList != null">
      	AND 
		<foreach collection="condition.netNoList" item="netNos" open="(" separator="OR" close=")">
		    NET_NO in
		  	<foreach collection="netNos" item="netNo" open="(" separator="," close=")">
		  		#{netNo}
		  	</foreach>
		</foreach>
	  </if>
      <if test="busiForm.nodeNo != null and busiForm.nodeNo !=''" >
        AND NODE_NO = #{busiForm.nodeNo,jdbcType=CHAR}
      </if>
      <if test="busiForm.nodeNo == null or busiForm.nodeNo ==''" >
      	<if test="condition.nodeNoList != null and condition.nodeNoList.size != 0">
			AND NODE_NO in
			<foreach collection="condition.nodeNoList" item="nodeNo" index="index" open="(" close=")" separator="," >
				#{nodeNo}
			</foreach>
    	</if>
      </if>
      
      <if test="busiForm.workDate != null and busiForm.workDate !=''" >
        AND WORK_DATE = #{busiForm.workDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate == null or busiForm.workDate ==''" >
	      <if test="condition.workDate_start != null and condition.workDate_start !=''" >
	        AND WORK_DATE &gt;= #{condition.workDate_start,jdbcType=CHAR}
	      </if>
	      <if test="condition.workDate_end != null and condition.workDate_end !=''" >
	        AND WORK_DATE &lt;= #{condition.workDate_end,jdbcType=CHAR}
	      </if>
      </if>
      
      <if test="busiForm.operationDate != null and busiForm.operationDate !=''" >
        AND OPERATION_DATE = #{busiForm.operationDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate == null or busiForm.workDate ==''" >
	      <if test="condition.operationDate_start != null and condition.operationDate_start !=''" >
	        AND OPERATION_DATE &gt;= #{condition.operationDate_start,jdbcType=CHAR}
	      </if>
	      <if test="condition.operationDate_end != null and condition.operationDate_end !=''" >
	        AND OPERATION_DATE &lt;= #{condition.operationDate_end,jdbcType=CHAR}
	      </if>
      </if>
      
      <if test="busiForm.xfDate != null and busiForm.xfDate !=''" >
        AND XF_DATE = #{busiForm.xfDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDate == null or busiForm.xfDate ==''" >
	      <if test="condition.xfDate_start != null and condition.xfDate_start !=''" >
	        AND XF_DATE &gt;= #{condition.xfDate_start,jdbcType=CHAR}
	      </if>
	      <if test="condition.xfDate_end != null and condition.xfDate_end !=''" >
	        AND XF_DATE &lt;= #{condition.xfDate_end,jdbcType=CHAR}
	      </if>
      </if>
      <if test="busiForm.backDate != null and busiForm.backDate != '' " >
        AND BACK_DATE = #{busiForm.backDate,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.parBackDate != null and busiForm.parBackDate != '' " >
        AND PAR_BACK_DATE = #{busiForm.parBackDate,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.entryId != null and busiForm.entryId != '' " >
        AND ENTRY_ID = #{busiForm.entryId,jdbcType=VARCHAR}
      </if>
      <if test="condition.sourceFlagList != null and condition.sourceFlagList.size != 0">
			AND SOURCE_FLAG in
			<foreach collection="condition.sourceFlagList" item="sourceFlag" index="index" open="(" close=")" separator="," >
				#{sourceFlag}
			</foreach>
      </if>
      <if test="condition.isBackBf != null and condition.isBackBf !='' and condition.isBackBf == 1" >
       	AND EXISTS(SELECT 1 FROM ET_PROCESS_TB M WHERE M.FORM_ID = T.FORM_ID AND M.NODE_NO = '0')
      </if>
       <if test="condition.hasPrivOrganFlag != 0">
       AND EXISTS (SELECT * FROM SM_USER_ORGAN_TB O WHERE O.ORGAN_NO=NET_NO AND O.USER_NO =#{condition.userNo,jdbcType=VARCHAR})
	  </if>
	  <if test="condition.hasPrivOrganFlag == 0">
		AND EXISTS (select 1
		from sm_organ_tb sot, sm_organ_parent_tb sopt
		where
		exists (select 1
		from sm_users_tb sut
		where sut.user_no = #{condition.userNo,jdbcType=VARCHAR}
		and sot.organ_no = sut.organ_no)
		and sot.organ_no = sopt.parent_organ
		and sopt.organ_no=NET_NO
		)
	  </if>
  	</where>
  	${condition.orderBy}
  </select>
  <select id="getMaxFormId" resultType="java.lang.String">
  	select max(FORM_ID) from ET_BUSIFORM_TB where FORM_ID like #{formIdLike,jdbcType=CHAR}||'%'
  </select>



  <select id="getMenuList" parameterType="java.util.HashMap" resultType="java.util.HashMap">

  <choose>
    <!-- db2 递归 -->
    <when test="dbType == @com.sunyard.ars.common.comm.ARSConstants@DATABASE_TYPE_DB2">
      WITH MENU_TEMP_TB(menu_id,menu_name,parent_id,menu_desc,menu_url,menu_level,is_parent,is_open,is_lock
      ,last_modi_date,edit_enable,bank_no,system_no,project_no,menu_order
      ,menu_belong,menu_class,menu_type,menu_attr,home_show) AS
      (

        select *
        from sm_menu_tb
        where MENU_CLASS = #{menuClass,jdbcType=VARCHAR} and menu_id in
          (
              select distinct (menu_id)
              from sm_right_tb
              where role_no in (
                select role_no
                from sm_user_role_tb
                where user_no =#{userNo,jdbcType=VARCHAR}
              )
          )

      union all

        select child.*
        from sm_menu_tb child, MENU_TEMP_TB super
        where super.menu_id = child.parent_id AND child.menu_id in
            (
                select distinct (menu_id)
                from sm_right_tb
                where role_no in (
                  select role_no
                  from sm_user_role_tb
                  where user_no =#{userNo,jdbcType=VARCHAR}
                )
            )

      ) select * from MENU_TEMP_TB

    </when>

    <otherwise>
      <!-- 原来oracle的递归查询-->
        select *
          from (select *
                  from sm_menu_tb
                 where menu_id in
                       (select distinct (menu_id)
                          from sm_right_tb
                         where role_no in (select role_no
                                             from sm_user_role_tb
                                            where user_no =#{userNo,jdbcType=VARCHAR})))
         START WITH MENU_CLASS =#{menuClass,jdbcType=VARCHAR}
        CONNECT BY PRIOR MENU_ID = parent_id
         order by menu_order
    </otherwise>

  </choose>

  </select>
  
  <select id="getTaskCount" parameterType="java.util.HashMap" resultType="java.lang.Integer">
  	select count(1) from ET_BUSIFORM_TB T
  	<where>
  	  <if test="conditionBusiUtilNodes != null and conditionBusiUtilNodes.size() &gt; 0">
  	  	AND
  	  	<foreach collection="conditionBusiUtilNodes" item="utilNode" open="(" separator="or" close=")">
			<if test="utilNode.formType != null and utilNode.nodeNo != null">
				(FORM_TYPE =#{utilNode.formType,jdbcType=CHAR} AND NODE_NO =#{utilNode.nodeNo,jdbcType=VARCHAR})
			</if>
			<if test="utilNode.formType == null or utilNode.nodeNo == null">
				2 > 1
			</if>
		</foreach>
  	  </if>
  	  <if test="checkerNo != null" >
        AND CHECKER_NO !=#{checkerNo,jdbcType=VARCHAR}
      </if>
      <if test="leaderNotSean != null" >
      	AND (
      	(CC_TYPE = '0' and (SEAN_LEADER IS NULL OR SEAN_LEADER NOT LIKE '%' || #{leaderNotSean} || '%') AND CC_LEADER LIKE '%' || #{leaderNotSean} || '%') or 
      	(CC_TYPE = '2' and (SEAN_LEADER IS NULL OR SEAN_LEADER NOT LIKE '%,' || #{userNo,jdbcType=VARCHAR} || ',%') AND CC_ORGAN LIKE '%,' || #{userNo,jdbcType=VARCHAR} || ',%') or
      	<foreach collection="roleArray" item="roleId" index="index" open="" close="" separator="">
        	(CC_TYPE = '1' and (SEAN_ROLE IS NULL OR SEAN_ROLE NOT LIKE '%' || #{roleId} || '%') AND CC_ROLE LIKE '%' || #{roleId} || '%') or
        </foreach>
        <foreach collection="roleArray" item="roleId" index="index" open="" close="" separator="or">
        	(CC_TYPE = '3' and (SEAN_ROLE IS NULL OR SEAN_ROLE NOT LIKE '%' || #{roleId} || '%' or SEAN_LEADER IS NULL OR SEAN_LEADER NOT LIKE '%' || #{leaderNotSean} || '%') AND CC_LEADER LIKE '%' || #{leaderNotSean} || '%' AND CC_ROLE LIKE '%' || #{roleId} || '%')
        </foreach>
        )
      </if>
      <if test="leaderHasSean != null" >
      	AND (
      	(CC_TYPE = '0' and SEAN_LEADER LIKE '%' || #{leaderHasSean} || '%') or 
      	(CC_TYPE = '2' and SEAN_LEADER LIKE '%,' || #{userNo,jdbcType=VARCHAR} || ',%') or
      	(CC_TYPE = '1' and
      	<foreach collection="roleArray" item="roleId" index="index" open="(" close=")" separator="or">
        	SEAN_ROLE LIKE '%' || #{roleId} || '%'
        </foreach>
        ) or
        (CC_TYPE = '3' and SEAN_LEADER LIKE '%' || #{leaderHasSean} || '%' and
        <foreach collection="roleArray" item="roleId" index="index" open="(" close=")" separator="or">
        	SEAN_ROLE LIKE '%' || #{roleId} || '%'
        </foreach>
        )
        )
      </if>
      <if test="isAppointNetUser != null" >
        AND ((NOT EXISTS (SELECT * FROM ET_PROCESS_TB EPT WHERE EPT.FORM_ID=T.FORM_ID )) OR 
        (EXISTS (SELECT * FROM ET_PROCESS_TB EPT WHERE EPT.DEAL_USER_NO=#{isAppointNetUser,jdbcType=VARCHAR} AND EPT.FORM_ID = T.FORM_ID )))
      </if>
      <if test="isAppointNetArms != null" >
      	AND ((CHECKER_NO =#{isAppointNetArms,jdbcType=VARCHAR}) OR (T.FORM_TYPE='0' AND T.CORRELATIVE_ID &gt;'0' AND #{isAppointNetArms,jdbcType=VARCHAR}=(SELECT MAX(ET.CHECKER_NO) FROM ET_BUSIFORM_TB ET WHERE ET.FORM_ID=T.CORRELATIVE_ID )))
      </if>
      <if test="isAppointNetManager != null">
      	AND (T.CHECKER_NO NOT IN (SELECT W.USER_NO FROM SM_USERS_TB T,SM_USER_ROLE_TB S, SM_USER_ROLE_TB A, SM_USERS_TB W WHERE T.USER_NO =#{isAppointNetManager,jdbcType=VARCHAR}
      	AND T.USER_NO=S.USER_NO AND A.ROLE_NO=S.ROLE_NO  AND A.USER_NO=W.USER_NO AND T.ORGAN_NO = W.ORGAN_NO AND W.USER_NO &lt;&gt; T.USER_NO ))
      </if>
      <if test="corrFlag != null" >
        AND INSTR(T.CORR_USER_NO, #{corrFlag,jdbcType=VARCHAR}) &gt;= 1
      </if>

  	  <if test="busiForm.formId != null and busiForm.formId != '' and busiForm.formId.indexOf('%') != -1" >
  	  	AND FORM_ID LIKE upper(#{busiForm.formId,jdbcType=VARCHAR})
  	  </if>
	  <if test="busiForm.formId != null and busiForm.formId != '' and busiForm.formId.indexOf('%') == -1" >
  	  	AND FORM_ID = #{busiForm.formId,jdbcType=VARCHAR}
  	  </if>
  	  <if test="busiForm.formType != null and busiForm.formType != ''" >
  	  	AND FORM_TYPE = #{busiForm.formType,jdbcType=CHAR}
  	  </if>
  	  <if test="busiForm.tellerNo != null and busiForm.tellerNo !=''" >
        AND TELLER_NO = #{busiForm.tellerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo2 != null and busiForm.tellerNo2 !=''" >
        AND TELLER_NO_2 = #{busiForm.tellerNo2,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo3 != null and busiForm.tellerNo3 !=''" >
        AND TELLER_NO_3 = #{busiForm.tellerNo3,jdbcType=VARCHAR}
      </if>
  	  <if test="busiForm.ccLeader != null and busiForm.ccLeader !=''" >
        AND CC_LEADER LIKE '%' || #{busiForm.ccLeader} || '%'
      </if>
  	  <if test="busiForm.nodeNo != null and busiForm.nodeNo !=''" >
        AND NODE_NO = #{busiForm.nodeNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.nodeNo == null or busiForm.nodeNo ==''" >
      	<if test="nodeNoList != null and nodeNoList.size != 0">
			AND NODE_NO in
			<foreach collection="nodeNoList" item="nodeNo" index="index" open="(" close=")" separator="," >
				#{nodeNo}
			</foreach>
    	</if>
      </if>
  	  <if test="busiForm.checkerNo != null and busiForm.checkerNo !=''" >
        AND CHECKER_NO = #{busiForm.checkerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.activeFlag != null and busiForm.activeFlag !=''" >
        AND ACTIVE_FLAG = #{busiForm.activeFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate != null and busiForm.workDate !=''" >
        AND WORK_DATE = #{busiForm.workDate,jdbcType=CHAR}
      </if>
      <if test="workDate_start != null and workDate_start !=''" >
        AND WORK_DATE &gt;= #{workDate_start,jdbcType=CHAR}
      </if>
      <if test="workDate_end != null and workDate_end !=''" >
        AND WORK_DATE &lt;= #{workDate_end,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDate != null and busiForm.xfDate !=''" >
        AND XF_DATE = #{busiForm.xfDate,jdbcType=CHAR}
      </if>
      <if test="xfDate_start != null and xfDate_start !=''" >
        AND XF_DATE &gt;= #{xfDate_start,jdbcType=CHAR}
      </if>
      <if test="xfDate_end != null and xfDate_end !=''" >
        AND XF_DATE &lt;= #{xfDate_end,jdbcType=CHAR}
      </if>
      
      <if test="busiForm.operationDate != null and busiForm.operationDate !=''" >
        AND OPERATION_DATE = #{busiForm.operationDate,jdbcType=CHAR}
      </if>
      <if test="operationDate_start != null and operationDate_start !=''" >
        AND OPERATION_DATE &gt;= #{operationDate_start,jdbcType=CHAR}
      </if>
      <if test="operationDate_end != null and operationDate_end !=''" >
        AND OPERATION_DATE &lt;= #{operationDate_end,jdbcType=CHAR}
      </if>
      
      <if test="busiForm.slipType != null and busiForm.slipType != '' " >
        AND SLIP_TYPE = #{busiForm.slipType,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipNo != null and busiForm.slipNo != '' " >
        AND SLIP_NO = #{busiForm.slipNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipLevel != null and busiForm.slipLevel != '' " >
        AND SLIP_LEVEL = #{busiForm.slipLevel,jdbcType=CHAR}
      </if>
      <if test="busiForm.sourceFlag != null and busiForm.sourceFlag != '' " >
        AND SOURCE_FLAG = #{busiForm.sourceFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.checkerOrganNo != null and busiForm.checkerOrganNo != '' " >
        AND CHECKER_ORGAN_NO = #{busiForm.checkerOrganNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.imageIndex != null and busiForm.imageIndex != '' " >
        AND IMAGE_INDEX = #{busiForm.imageIndex,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.backDate != null and busiForm.backDate != '' " >
        AND BACK_DATE = #{busiForm.backDate,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.entryId != null and busiForm.entryId != '' " >
        AND ENTRY_ID = #{busiForm.entryId,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.accountMoney != null and busiForm.accountMoney != '' " >
        AND ACCOUNT_MONEY = #{busiForm.accountMoney,jdbcType=VARCHAR}
      </if>
	  <if test="busiForm.formType != null and busiForm.formType != ''" >
        AND NODE_NO &gt;= 21
      </if>

	  <if test="busiForm.returnState != null and busiForm.returnState != '' and busiForm.returnState == 1">
	  	 AND RETURN_STATE = '1'
	  </if>
	  
	  <if test="busiForm.returnState != null and busiForm.returnState != '' and busiForm.returnState == 0">
	  	 AND RETURN_STATE is null
	  </if>

      <if test="busiForm.netNo != null and busiForm.netNo !=''" >
        AND NET_NO = #{busiForm.netNo,jdbcType=CHAR}
      </if>
      <if test="netNoList != null">
      	AND 
		<foreach collection="netNoList" item="netNos" open="(" separator="OR" close=")">
		    NET_NO in
		  	<foreach collection="netNos" item="netNo" open="(" separator="," close=")">
		  		#{netNo}
		  	</foreach>
		</foreach>
	  </if>
	  <if test="sourceFlagList != null and sourceFlagList.size != 0">
			AND SOURCE_FLAG in
			<foreach collection="sourceFlagList" item="sourceFlag" index="index" open="(" close=")" separator="," >
				#{sourceFlag}
			</foreach>
      </if>
	  <if test="thisPurviewName != null and hasPrivOrganFlag != 0">
	  	AND EXISTS (SELECT * FROM SM_USER_ORGAN_TB O WHERE O.ORGAN_NO=NET_NO AND O.USER_NO =#{userNo,jdbcType=VARCHAR})
	  </if>
	  <if test="thisPurviewName != null and hasPrivOrganFlag == 0">
	  	AND EXISTS (select 1
		from sm_organ_tb sot, sm_organ_parent_tb sopt
		where
		exists (select 1
		from sm_users_tb sut
		where sut.user_no = #{userNo,jdbcType=VARCHAR}
		and sot.organ_no = sut.organ_no)
		and sot.organ_no = sopt.parent_organ
		and sopt.organ_no=NET_NO
		)
	  </if>
	  
	  
  	</where>
  </select>
  
  <select id="getTaskList" parameterType="java.util.HashMap" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List" /> from ET_BUSIFORM_TB T
  	<where>
  	  <if test="conditionBusiUtilNodes != null and conditionBusiUtilNodes.size() &gt; 0">
  	  	AND
  	  	<foreach collection="conditionBusiUtilNodes" item="utilNode" open="(" separator="or" close=")">
			<if test="utilNode.formType != null and utilNode.nodeNo != null">
				(FORM_TYPE =#{utilNode.formType,jdbcType=CHAR} AND NODE_NO =#{utilNode.nodeNo,jdbcType=VARCHAR})
			</if>
			<if test="utilNode.formType == null or utilNode.nodeNo == null">
				2 > 1
			</if>
		</foreach>
  	  </if>
  	  <if test="checkerNo != null" >
        AND CHECKER_NO !=#{checkerNo,jdbcType=VARCHAR}
      </if>
      <if test="leaderNotSean != null" >
      	AND (
      	(CC_TYPE = '0' and (SEAN_LEADER IS NULL OR SEAN_LEADER NOT LIKE '%' || #{leaderNotSean} || '%') AND CC_LEADER LIKE '%' || #{leaderNotSean} || '%') or 
      	(CC_TYPE = '2' and (SEAN_LEADER IS NULL OR SEAN_LEADER NOT LIKE '%,' || #{userNo,jdbcType=VARCHAR} || ',%') AND CC_ORGAN LIKE '%,' || #{userNo,jdbcType=VARCHAR} || ',%') or
      	<foreach collection="roleArray" item="roleId" index="index" open="" close="" separator="">
        	(CC_TYPE = '1' and (SEAN_ROLE IS NULL OR SEAN_ROLE NOT LIKE '%' || #{roleId} || '%') AND CC_ROLE LIKE '%' || #{roleId} || '%') or
        </foreach>
        <foreach collection="roleArray" item="roleId" index="index" open="" close="" separator="or">
        	(CC_TYPE = '3' and (SEAN_ROLE IS NULL OR SEAN_ROLE NOT LIKE '%' || #{roleId} || '%' or SEAN_LEADER IS NULL OR SEAN_LEADER NOT LIKE '%' || #{leaderNotSean} || '%') AND CC_LEADER LIKE '%' || #{leaderNotSean} || '%' AND CC_ROLE LIKE '%' || #{roleId} || '%')
        </foreach>
        )
      </if>
      <if test="leaderHasSean != null" >
      	AND (
      	(CC_TYPE = '0' and SEAN_LEADER LIKE '%' || #{leaderHasSean} || '%') or 
      	(CC_TYPE = '2' and SEAN_LEADER LIKE '%,' || #{userNo,jdbcType=VARCHAR} || ',%') or
      	(CC_TYPE = '1' and
      	<foreach collection="roleArray" item="roleId" index="index" open="(" close=")" separator="or">
        	SEAN_ROLE LIKE '%' || #{roleId} || '%'
        </foreach>
        ) or
        (CC_TYPE = '3' and SEAN_LEADER LIKE '%' || #{leaderHasSean} || '%' and
        <foreach collection="roleArray" item="roleId" index="index" open="(" close=")" separator="or">
        	SEAN_ROLE LIKE '%' || #{roleId} || '%'
        </foreach>
        )
        )
      </if>
      <if test="isAppointNetUser != null" >
        AND ((NOT EXISTS (SELECT * FROM ET_PROCESS_TB EPT WHERE EPT.FORM_ID=T.FORM_ID )) OR 
        (EXISTS (SELECT * FROM ET_PROCESS_TB EPT WHERE EPT.DEAL_USER_NO=#{isAppointNetUser,jdbcType=VARCHAR} AND EPT.FORM_ID = T.FORM_ID )))
      </if>
      <if test="isAppoingNetArms != null" >
      	AND ((CHECKER_NO =#{isAppoingNetArms,jdbcType=VARCHAR}) OR (T.FORM_TYPE='0' AND T.CORRELATIVE_ID &gt;'0' AND ${isAppoingNetArms,jdbcType=VARCHAR}=(SELECT MAX(ET.CHECKER_NO) FROM ET_BUSIFORM_TB ET WHERE ET.FORM_ID=T.CORRELATIVE_ID )))
      </if>
      <if test="isAppointNetManager != null">
      	AND (T.CHECKER_NO NOT IN (SELECT W.USER_NO FROM SM_USERS_TB T,SM_USER_ROLE_TB S, SM_USER_ROLE_TB A, SM_USERS_TB W WHERE T.USER_NO =#{isAppointNetManager,jdbcType=VARCHAR}
      	AND T.USER_NO=S.USER_NO AND A.ROLE_NO=S.ROLE_NO  AND A.USER_NO=W.USER_NO AND T.ORGAN_NO = W.ORGAN_NO AND W.USER_NO &lt;&gt; T.USER_NO ))
      </if>
      <if test="corrFlag != null" >
        AND INSTR(T.CORR_USER_NO, #{corrFlag,jdbcType=VARCHAR}) &gt;= 1
      </if>

  	  <if test="busiForm.formId != null and busiForm.formId != '' and busiForm.formId.indexOf('%') != -1" >
  	  	AND FORM_ID LIKE upper(#{busiForm.formId,jdbcType=VARCHAR})
  	  </if>
	  <if test="busiForm.formId != null and busiForm.formId != '' and busiForm.formId.indexOf('%') == -1" >
  	  	AND FORM_ID = #{busiForm.formId,jdbcType=VARCHAR}
  	  </if>
  	  <if test="busiForm.formType != null and busiForm.formType != ''" >
  	  	AND FORM_TYPE = #{busiForm.formType,jdbcType=CHAR}
  	  </if>
  	  <if test="busiForm.tellerNo != null and busiForm.tellerNo !=''" >
        AND TELLER_NO = #{busiForm.tellerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo2 != null and busiForm.tellerNo2 !=''" >
        AND TELLER_NO_2 = #{busiForm.tellerNo2,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo3 != null and busiForm.tellerNo3 !=''" >
        AND TELLER_NO_3 = #{busiForm.tellerNo3,jdbcType=VARCHAR}
      </if>
  	  <if test="busiForm.ccLeader != null and busiForm.ccLeader !=''" >
        AND CC_LEADER LIKE '%' || #{busiForm.ccLeader} || '%'
      </if>
  	  <if test="busiForm.nodeNo != null and busiForm.nodeNo !=''" >
        AND NODE_NO = #{busiForm.nodeNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.nodeNo == null or busiForm.nodeNo ==''" >
      	<if test="nodeNoList != null and nodeNoList.size != 0">
			AND NODE_NO in
			<foreach collection="nodeNoList" item="nodeNo" index="index" open="(" close=")" separator="," >
				#{nodeNo}
			</foreach>
    	</if>
      </if>
  	  <if test="busiForm.checkerNo != null and busiForm.checkerNo !=''" >
        AND CHECKER_NO = #{busiForm.checkerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.activeFlag != null and busiForm.activeFlag !=''" >
        AND ACTIVE_FLAG = #{busiForm.activeFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate != null and busiForm.workDate !=''" >
        AND WORK_DATE = #{busiForm.workDate,jdbcType=CHAR}
      </if>
      
      <!-- 查询交易日期 开始 -->
      <if test="busiForm.operationDateS != null and busiForm.operationDateS != ''" >
	      <![CDATA[
		  	AND TO_DATE(OPERATION_DATE, 'yyyyMMdd') >= TO_DATE(#{busiForm.operationDateS,jdbcType=VARCHAR}, 'yyyyMMdd')
		  ]]>
  	  </if>
  	  
  	  <if test="busiForm.operationDateE != null and busiForm.operationDateE != ''" >
	  	  <![CDATA[
		  	AND TO_DATE(OPERATION_DATE, 'yyyyMMdd') <= TO_DATE(#{busiForm.operationDateE,jdbcType=VARCHAR}, 'yyyyMMdd')
		  ]]>
  	  </if>
  	  <!-- 查询交易日期 结束 -->
  	  
  	  <!-- 查询登记日期  开始 -->
  	  <if test="busiForm.workDateS != null and busiForm.workDateS != ''" >
	      <![CDATA[
		  	AND TO_DATE(WORK_DATE, 'yyyyMMdd') >= TO_DATE(#{busiForm.workDateS,jdbcType=VARCHAR}, 'yyyyMMdd')
		  ]]>  	  
  	  </if>
  	  
  	  <if test="busiForm.workDateE != null and busiForm.workDateE != ''" >
	      <![CDATA[
		  	AND TO_DATE(WORK_DATE, 'yyyyMMdd') <= TO_DATE(#{busiForm.workDateE,jdbcType=VARCHAR}, 'yyyyMMdd')
		  ]]>  	  
  	  </if>
  	  <!-- 查询登记日期  结束 -->
  	  
      
      
      <if test="workDate_start != null and workDate_start !=''" >
        AND WORK_DATE &gt;= #{workDate_start,jdbcType=CHAR}
      </if>
      <if test="workDate_end != null and workDate_end !=''" >
        AND WORK_DATE &lt;= #{workDate_end,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDate != null and busiForm.xfDate !=''" >
        AND XF_DATE = #{busiForm.xfDate,jdbcType=CHAR}
      </if>
      <if test="xfDate_start != null and xfDate_start !=''" >
        AND XF_DATE &gt;= #{xfDate_start,jdbcType=CHAR}
      </if>
      <if test="xfDate_end != null and xfDate_end !=''" >
        AND XF_DATE &lt;= #{xfDate_end,jdbcType=CHAR}
      </if>
      
      <if test="busiForm.operationDate != null and busiForm.operationDate !=''" >
        AND OPERATION_DATE = #{busiForm.operationDate,jdbcType=CHAR}
      </if>
      <if test="operationDate_start != null and operationDate_start !=''" >
        AND OPERATION_DATE &gt;= #{operationDate_start,jdbcType=CHAR}
      </if>
      <if test="operationDate_end != null and operationDate_end !=''" >
        AND OPERATION_DATE &lt;= #{operationDate_end,jdbcType=CHAR}
      </if>
      
      <if test="busiForm.slipType != null and busiForm.slipType != '' " >
        AND SLIP_TYPE = #{busiForm.slipType,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipNo != null and busiForm.slipNo != '' " >
        AND SLIP_NO = #{busiForm.slipNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipLevel != null and busiForm.slipLevel != '' " >
        AND SLIP_LEVEL = #{busiForm.slipLevel,jdbcType=CHAR}
      </if>
      <if test="busiForm.sourceFlag != null and busiForm.sourceFlag != '' " >
        AND SOURCE_FLAG = #{busiForm.sourceFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.checkerOrganNo != null and busiForm.checkerOrganNo != '' " >
        AND CHECKER_ORGAN_NO = #{busiForm.checkerOrganNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.imageIndex != null and busiForm.imageIndex != '' " >
        AND IMAGE_INDEX = #{busiForm.imageIndex,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.backDate != null and busiForm.backDate != '' " >
        AND BACK_DATE = #{busiForm.backDate,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.entryId != null and busiForm.entryId != '' " >
        AND ENTRY_ID = #{busiForm.entryId,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.accountMoney != null and busiForm.accountMoney != '' " >
        AND ACCOUNT_MONEY = #{busiForm.accountMoney,jdbcType=VARCHAR}
      </if>
	  <if test="busiForm.formType != null and busiForm.formType != ''" >
        AND NODE_NO &gt;= 21
      </if>

	  <if test="busiForm.returnState != null and busiForm.returnState != '' and busiForm.returnState == 1">
	  	 AND RETURN_STATE = '1'
	  </if>
	  
	  <if test="busiForm.returnState != null and busiForm.returnState != '' and busiForm.returnState == 0">
	  	 AND RETURN_STATE is null
	  </if>

      <if test="busiForm.netNo != null and busiForm.netNo !=''" >
        AND NET_NO = #{busiForm.netNo,jdbcType=CHAR}
      </if>
      <if test="netNoList != null">
      	AND 
		<foreach collection="netNoList" item="netNos" open="(" separator="OR" close=")">
		    NET_NO in
		  	<foreach collection="netNos" item="netNo" open="(" separator="," close=")">
		  		#{netNo}
		  	</foreach>
		</foreach>
	  </if>
	  <if test="sourceFlagList != null and sourceFlagList.size != 0">
			AND SOURCE_FLAG in
			<foreach collection="sourceFlagList" item="sourceFlag" index="index" open="(" close=")" separator="," >
				#{sourceFlag}
			</foreach>
      </if>
	  <if test="thisPurviewName != null and hasPrivOrganFlag != 0">
	  	AND EXISTS (SELECT * FROM SM_USER_ORGAN_TB O WHERE O.ORGAN_NO=NET_NO AND O.USER_NO =#{userNo,jdbcType=VARCHAR})
	  </if>
	  <if test="thisPurviewName != null and hasPrivOrganFlag == 0">
	  	AND EXISTS (select 1
		from sm_organ_tb sot, sm_organ_parent_tb sopt
		where
		exists (select 1
		from sm_users_tb sut
		where sut.user_no = #{userNo,jdbcType=VARCHAR}
		and sot.organ_no = sut.organ_no)
		and sot.organ_no = sopt.parent_organ
		and sopt.organ_no=NET_NO
		)
	  </if>
	  
  	</where>
  	${orderBy} 
  </select>
  
  <select id="selectLockInfo" parameterType="java.util.HashMap" resultType="java.util.HashMap">
  	SELECT FORM_ID,USER_NO,LOCK_DATE,LOCK_TIME,LOCK_LEVEL,IP,LONG_TIME FROM ET_TASK_LOCK 
	<where>
		<if test="formId != null">
			AND FORM_ID =#{formId,jdbcType=VARCHAR}
		</if>
		<if test="userNo != null">
			AND USER_NO =#{userNo,jdbcType=VARCHAR}
		</if>
	</where>
  </select>
  
  <insert id="lockTask" parameterType="java.util.HashMap">
    insert into et_task_lock(FORM_ID, USER_NO, LOCK_DATE,LOCK_TIME,LOCK_LEVEL)
    values (#{formId,jdbcType=VARCHAR}, #{userNo,jdbcType=CHAR}, #{lockDate,jdbcType=VARCHAR}, 
      #{lockTime,jdbcType=CHAR}, #{lockLevel,jdbcType=CHAR})
  </insert>
  
  <select id="selectWorkDate" parameterType="java.lang.Integer" resultType="java.lang.String">
    <choose>
        <!-- db2 -->
        <when test="dbType == @com.sunyard.ars.common.comm.ARSConstants@DATABASE_TYPE_DB2">
          SELECT SP_GET_WORKDAY(TO_CHAR(SYSDATE,'YYYYMMDD'),#{day,jdbcType=INTEGER}) FROM SYSIBM.SYSDUMMY1
        </when>
        <otherwise>
          SELECT SP_GET_WORKDAY(TO_CHAR(SYSDATE,'YYYYMMDD'),#{day,jdbcType=INTEGER}) FROM DUAL
        </otherwise>
    </choose>
  </select>
  
  <select id="selectBusiInfo" parameterType="java.lang.String" resultType="java.util.HashMap">
  	SELECT BUSI_NO,BUSI_NAME FROM SM_BUSI_TYPE_TB WHERE busi_no =#{formId,jdbcType=VARCHAR}
  </select>
  
  <delete id="dropLock" parameterType="java.lang.String">
    delete from ET_TASK_LOCK
    where FORM_ID = #{formId,jdbcType=VARCHAR}
  </delete>
  
  <select id="getCorrBusiFormList" parameterType="java.util.HashMap" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List" /> from ET_BUSIFORM_TB T
  	<where>
  	  <if test="busiForm.formId != null and busiForm.formId != ''" >
  	  	AND FORM_ID LIKE '%' || #{busiForm.formId,jdbcType=VARCHAR} || '%'
  	  </if>
  	  <if test="busiForm.formType != null and busiForm.formType != ''" >
  	  	AND FORM_TYPE = #{busiForm.formType,jdbcType=CHAR}
  	  </if>
  	  <if test="busiForm.tellerNo != null and busiForm.tellerNo !=''" >
        AND TELLER_NO = #{busiForm.tellerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo2 != null and busiForm.tellerNo2 !=''" >
        AND TELLER_NO_2 = #{busiForm.tellerNo2,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo3 != null and busiForm.tellerNo3 !=''" >
        AND TELLER_NO_3 = #{busiForm.tellerNo3,jdbcType=VARCHAR}
      </if>
  	  <if test="busiForm.ccLeader != null and busiForm.ccLeader !=''" >
        AND CC_LEADER LIKE '%' || #{busiForm.ccLeader} || '%'
      </if>
  	  <if test="busiForm.nodeNo != null and busiForm.nodeNo !=''" >
        AND NODE_NO = #{busiForm.nodeNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.nodeNo == null or busiForm.nodeNo ==''" >
      	<if test="nodeNoList != null and nodeNoList.size != 0">
			AND NODE_NO in
			<foreach collection="nodeNoList" item="nodeNo" index="index" open="(" close=")" separator="," >
				#{nodeNo}
			</foreach>
    	</if>
      </if>
  	  <if test="busiForm.checkerNo != null and busiForm.checkerNo !=''" >
        AND CHECKER_NO = #{busiForm.checkerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.activeFlag != null and busiForm.activeFlag !=''" >
        AND ACTIVE_FLAG = #{busiForm.activeFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate != null and busiForm.workDate !=''" >
        AND WORK_DATE = #{busiForm.workDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDateS != null and busiForm.workDateS !=''" >
        AND WORK_DATE &gt;= #{busiForm.workDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDateE != null and busiForm.workDateE !=''" >
        AND WORK_DATE &lt;= #{busiForm.workDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDate != null and busiForm.xfDate !=''" >
        AND XF_DATE = #{busiForm.xfDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDateS != null and busiForm.xfDateS !=''" >
        AND XF_DATE &gt;= #{busiForm.xfDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDateE != null and busiForm.xfDateE !=''" >
        AND XF_DATE &lt;= #{busiForm.xfDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDate != null and busiForm.operationDate !=''" >
        AND OPERATION_DATE = #{busiForm.operationDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDateS != null and busiForm.operationDateS !=''" >
        AND OPERATION_DATE &gt;= #{busiForm.operationDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDateE != null and busiForm.operationDateE !=''" >
        AND OPERATION_DATE &lt;= #{busiForm.operationDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.slipType != null and busiForm.slipType != '' " >
        AND SLIP_TYPE = #{busiForm.slipType,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipNo != null and busiForm.slipNo != '' " >
        AND SLIP_NO = #{busiForm.slipNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.slipLevel != null and busiForm.slipLevel != '' " >
        AND SLIP_LEVEL = #{busiForm.slipLevel,jdbcType=CHAR}
      </if>
      <if test="busiForm.sourceFlag != null and busiForm.sourceFlag != '' " >
        AND SOURCE_FLAG = #{busiForm.sourceFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.checkerOrganNo != null and busiForm.checkerOrganNo != '' " >
        AND CHECKER_ORGAN_NO = #{busiForm.checkerOrganNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.imageIndex != null and busiForm.imageIndex != '' " >
        AND IMAGE_INDEX = #{busiForm.imageIndex,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.backDate != null and busiForm.backDate != '' " >
        AND BACK_DATE = #{busiForm.backDate,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.entryId != null and busiForm.entryId != '' " >
        AND ENTRY_ID = #{busiForm.entryId,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.accountMoney != null and busiForm.accountMoney != '' " >
        AND ACCOUNT_MONEY = #{busiForm.accountMoney,jdbcType=VARCHAR}
      </if>
	  <if test="busiForm.formType != null and busiForm.formType != ''" >
        AND NODE_NO &gt;= 21
      </if>
 	  <if test="busiForm.returnDateS != null and busiForm.returnDateS !=''" >
        AND RETURN_DATE &gt;= #{busiForm.returnDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.returnDateE != null and busiForm.returnDateE !=''" >
       AND RETURN_DATE &lt;= #{busiForm.returnDateE,jdbcType=CHAR}
      </if>
	  <if test="form_state != null and form_state !='' and form_state == 1" >
       AND NODE_NO like '9%'
      </if>
	  <if test="form_state != null and form_state !='' and form_state == 2" >
       AND NODE_NO NOT like '9%'
      </if>
	  <if test="branch_state != null and branch_state !='' and branch_state == 1" >
       AND EXISTS(SELECT * FROM ET_PROCESS_TB M WHERE M.FORM_ID = T.FORM_ID AND M.NODE_NO = '50')
      </if>
      <if test="branch_state != null and branch_state !='' and branch_state == 2" >
       AND  NOT EXISTS (SELECT * FROM ET_PROCESS_TB M WHERE M.FORM_ID = T.FORM_ID AND M.NODE_NO = '50')
      </if>
      <if test="bake_user_no != null and bake_user_no !=''" >
       AND SUBSTR(BAKE_USER_NO,1,INSTR(BAKE_USER_NO,',')-1) = #{bake_user_no,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.netNo != null and busiForm.netNo !=''" >
        AND NET_NO = #{busiForm.netNo,jdbcType=CHAR}
      </if>
      <if test="netNoList != null">
      	AND 
		<foreach collection="netNoList" item="netNos" open="(" separator="OR" close=")">
		    NET_NO in
		  	<foreach collection="netNos" item="netNo" open="(" separator="," close=")">
		  		#{netNo}
		  	</foreach>
		</foreach>
	  </if>
	  <if test="cflag != null and cflag == 1">
	  	 AND RETURN_STATE = '1'
	  </if>
	  <if test="cflag != null and cflag == 2">
	  	 AND EXISTS (SELECT * FROM ARMS_WORKFLOW_NODE S WHERE T.FORM_TYPE = S.FORM_TYPE AND T.NODE_NO = S.NODE_CODE AND S.IS_END = '1' AND S.ORGAN_LEVEL = 2)
	  </if>
      <if test="sourceFlagList != null and sourceFlagList.size != 0">
			AND SOURCE_FLAG in
			<foreach collection="sourceFlagList" item="sourceFlag" index="index" open="(" close=")" separator="," >
				#{sourceFlag}
			</foreach>
      </if>
	  <if test="hasPrivOrganFlag != 0">
	  AND EXISTS (SELECT * FROM SM_USER_ORGAN_TB O WHERE O.ORGAN_NO=NET_NO AND O.USER_NO =#{userNo,jdbcType=VARCHAR})
	  </if>
	  <if test="hasPrivOrganFlag == 0">
	  	AND EXISTS (select 1
		from sm_organ_tb sot, sm_organ_parent_tb sopt
		where
		exists (select 1
		from sm_users_tb sut
		where sut.user_no = #{userNo,jdbcType=VARCHAR}
		and sot.organ_no = sut.organ_no)
		and sot.organ_no = sopt.parent_organ
		and sopt.organ_no=NET_NO
		)
	  </if>
  	</where>
  	 ORDER BY RETURN_DATE DESC, BACK_DATE DESC,FORM_ID
  </select>
  
  <select id="checkOrganNo" parameterType="java.util.HashMap" resultType="java.lang.Integer">
  	select count(1) from sm_organ_tb where ORGAN_NO IN
    <foreach collection="netNoList" index="index" item="netNo" open="(" separator="," close=")">
        #{netNo}
    </foreach>
  </select>
  
  <update id="doOverdueRemark" parameterType="java.util.HashMap">
    update ET_BUSIFORM_TB set OVERDUE_REMARK = OVERDUE_REMARK || #{overRemark,jdbcType=VARCHAR} where form_id=#{formId,jdbcType=VARCHAR}
  </update>
  
  <select id="checkToSlip" parameterType="java.util.HashMap" resultType="java.util.HashMap">
  	SELECT T.FORM_ID FROM ET_BUSIFORM_TB T WHERE T.CORRELATIVE_ID=#{formId,jdbcType=VARCHAR}
  </select>
  
  <select id="getOverBusiFormList" parameterType="java.util.HashMap" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List" /> from ET_BUSIFORM_TB T
  	<where>
  	  <if test="busiForm.formType != null and busiForm.formType != ''" >
  	  	AND FORM_TYPE = #{busiForm.formType,jdbcType=CHAR}
  	  </if>
  	  <if test="busiForm.tellerNo != null and busiForm.tellerNo !=''" >
        AND TELLER_NO = #{busiForm.tellerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.activeFlag != null and busiForm.activeFlag !=''" >
        AND ACTIVE_FLAG = #{busiForm.activeFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate != null and busiForm.workDate !=''" >
        AND WORK_DATE = #{busiForm.workDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDateS != null and busiForm.workDateS !=''" >
        AND WORK_DATE &gt;= #{busiForm.workDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDateE != null and busiForm.workDateE !=''" >
        AND WORK_DATE &lt;= #{busiForm.workDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDate != null and busiForm.xfDate !=''" >
        AND XF_DATE = #{busiForm.xfDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDateS != null and busiForm.xfDateS !=''" >
        AND XF_DATE &gt;= #{busiForm.xfDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDateE != null and busiForm.xfDateE !=''" >
        AND XF_DATE &lt;= #{busiForm.xfDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDate != null and busiForm.operationDate !=''" >
        AND OPERATION_DATE = #{busiForm.operationDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDateS != null and busiForm.operationDateS !=''" >
        AND OPERATION_DATE &gt;= #{busiForm.operationDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDateE != null and busiForm.operationDateE !=''" >
        AND OPERATION_DATE &lt;= #{busiForm.operationDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.sourceFlag != null and busiForm.sourceFlag != '' " >
        AND SOURCE_FLAG = #{busiForm.sourceFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.netNo != null and busiForm.netNo !=''" >
        AND NET_NO = #{busiForm.netNo,jdbcType=CHAR}
      </if>
      <if test="netNoList != null">
      	AND 
		<foreach collection="netNoList" item="netNos" open="(" separator="OR" close=")">
		    NET_NO in
		  	<foreach collection="netNos" item="netNo" open="(" separator="," close=")">
		  		#{netNo}
		  	</foreach>
		</foreach>
	  </if>
	  <if test="state != null and state == 1">
	  	 AND PAR_OVER_DAYS >= 1
	  </if>
	  <if test="state != null and state == 0">
	  	 AND (OVERDUE_FLAG_1 = '1' OR OVERDUE_FLAG_2 = '1' OR OVERDUE_FLAG_3 = '1')
	  </if>
	  <if test="busiForm.entryId != null and busiForm.entryId != '' " >
        AND ENTRY_ID = #{busiForm.entryId,jdbcType=VARCHAR}
      </if>
      <if test="sourceFlagList != null and sourceFlagList.size != 0">
			AND SOURCE_FLAG in
			<foreach collection="sourceFlagList" item="sourceFlag" index="index" open="(" close=")" separator="," >
				#{sourceFlag}
			</foreach>
      </if>
	  <if test="hasPrivOrganFlag != 0">
	    AND EXISTS (SELECT * FROM SM_USER_ORGAN_TB O WHERE O.ORGAN_NO=NET_NO AND O.USER_NO =#{userNo,jdbcType=VARCHAR})
	  </if>
	  <if test="hasPrivOrganFlag == 0">
	  	AND EXISTS (select 1
		from sm_organ_tb sot, sm_organ_parent_tb sopt
		where
		exists (select 1
		from sm_users_tb sut
		where sut.user_no = #{userNo,jdbcType=VARCHAR}
		and sot.organ_no = sut.organ_no)
		and sot.organ_no = sopt.parent_organ
		and sopt.organ_no=NET_NO
		)
	  </if>
  	</where>
  	 ORDER BY RETURN_DATE DESC, BACK_DATE DESC,FORM_ID
  </select>
  
  <select id="selectEndModify" parameterType="java.util.HashMap" resultType="java.util.HashMap">
  	select distinct(l.bofore_node_no),l.flow_chart from sm_process_line_tb l
 		where exists (select 1 from ARMS_WORKFLOW_NODE w
         where w.form_type = l.flow_chart
           and w.node_code = l.bofore_node_no
           and w.is_end = '1')
  </select>
  
  <select id="getModifyBusiFormList" parameterType="java.util.HashMap" resultMap="BaseResultMap">
  	select <include refid="Base_Column_List" /> from ET_BUSIFORM_TB T
  	<where>
  	  <if test="nodeList != null and nodeList.size() &gt; 0">
  	  	AND
  	  	<foreach collection="nodeList" item="utilNode" open="(" separator="or" close=")">
			(FORM_TYPE =#{utilNode.FLOW_CHART,jdbcType=CHAR} AND NODE_NO =#{utilNode.BOFORE_NODE_NO,jdbcType=VARCHAR})
		</foreach>
  	  </if>
  	  <if test="busiForm.formId != null and busiForm.formId != ''" >
  	  	AND FORM_ID LIKE '%' || #{busiForm.formId,jdbcType=VARCHAR} || '%'
  	  </if>
  	  <if test="busiForm.formType != null and busiForm.formType != ''" >
  	  	AND FORM_TYPE = #{busiForm.formType,jdbcType=CHAR}
  	  </if>
  	  <if test="busiForm.tellerNo != null and busiForm.tellerNo !=''" >
        AND TELLER_NO = #{busiForm.tellerNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.tellerNo2 != null and busiForm.tellerNo2 !=''" >
        AND TELLER_NO_2 = #{busiForm.tellerNo2,jdbcType=VARCHAR}
      </if>
  	  <if test="busiForm.nodeNo != null and busiForm.nodeNo !=''" >
        AND NODE_NO = #{busiForm.nodeNo,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.nodeNo == null or busiForm.nodeNo ==''" >
      	<if test="nodeNoList != null and nodeNoList.size != 0">
			AND NODE_NO in
			<foreach collection="nodeNoList" item="nodeNo" index="index" open="(" close=")" separator="," >
				#{nodeNo}
			</foreach>
    	</if>
      </if>
      <if test="busiForm.activeFlag != null and busiForm.activeFlag !=''" >
        AND ACTIVE_FLAG = #{busiForm.activeFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDate != null and busiForm.workDate !=''" >
        AND WORK_DATE = #{busiForm.workDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDateS != null and busiForm.workDateS !=''" >
        AND WORK_DATE &gt;= #{busiForm.workDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.workDateE != null and busiForm.workDateE !=''" >
        AND WORK_DATE &lt;= #{busiForm.workDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDate != null and busiForm.xfDate !=''" >
        AND XF_DATE = #{busiForm.xfDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDateS != null and busiForm.xfDateS !=''" >
        AND XF_DATE &gt;= #{busiForm.xfDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.xfDateE != null and busiForm.xfDateE !=''" >
        AND XF_DATE &lt;= #{busiForm.xfDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDate != null and busiForm.operationDate !=''" >
        AND OPERATION_DATE = #{busiForm.operationDate,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDateS != null and busiForm.operationDateS !=''" >
        AND OPERATION_DATE &gt;= #{busiForm.operationDateS,jdbcType=CHAR}
      </if>
      <if test="busiForm.operationDateE != null and busiForm.operationDateE !=''" >
        AND OPERATION_DATE &lt;= #{busiForm.operationDateE,jdbcType=CHAR}
      </if>
      <if test="busiForm.sourceFlag != null and busiForm.sourceFlag != '' " >
        AND SOURCE_FLAG = #{busiForm.sourceFlag,jdbcType=CHAR}
      </if>
      <if test="busiForm.entryId != null and busiForm.entryId != '' " >
        AND ENTRY_ID = #{busiForm.entryId,jdbcType=VARCHAR}
      </if>
      <if test="busiForm.netNo != null and busiForm.netNo !=''" >
        AND NET_NO = #{busiForm.netNo,jdbcType=CHAR}
      </if>
      <if test="netNoList != null">
      	AND 
		<foreach collection="netNoList" item="netNos" open="(" separator="OR" close=")">
		    NET_NO in
		  	<foreach collection="netNos" item="netNo" open="(" separator="," close=")">
		  		#{netNo}
		  	</foreach>
		</foreach>
	  </if>
	  <if test="busiForm.modifyType != null and busiForm.modifyType == 1" >
        AND MODIFY_TYPE in ('1')
      </if>
      <if test="busiForm.modifyType != null and busiForm.modifyType == 2" >
        AND MODIFY_TYPE in ('0','2')
      </if>
      <if test="sourceFlagList != null and sourceFlagList.size != 0">
			AND SOURCE_FLAG in
			<foreach collection="sourceFlagList" item="sourceFlag" index="index" open="(" close=")" separator="," >
				#{sourceFlag}
			</foreach>
      </if>
	  AND EXISTS (SELECT * FROM ARMS_WORKFLOW_NODE S WHERE T.FORM_TYPE = S.FORM_TYPE AND T.NODE_NO = S.NODE_CODE AND S.IS_END = '1')
	  
	  <if test="hasPrivOrganFlag != 0">
	  AND EXISTS (SELECT * FROM SM_USER_ORGAN_TB O WHERE O.ORGAN_NO=NET_NO AND O.USER_NO =#{userNo,jdbcType=VARCHAR})
	  </if>
	  <if test="hasPrivOrganFlag == 0">
	  	AND EXISTS (select 1
		from sm_organ_tb sot, sm_organ_parent_tb sopt
		where
		exists (select 1
		from sm_users_tb sut
		where sut.user_no = #{userNo,jdbcType=VARCHAR}
		and sot.organ_no = sut.organ_no)
		and sot.organ_no = sopt.parent_organ
		and sopt.organ_no=NET_NO
		)
	  </if>
  	</where>
  	 ORDER BY BACK_DATE DESC,FORM_ID
  </select>
  
  
  <update id="deleteUploadFile" parameterType="com.sunyard.ars.system.bean.et.BusiForm">
    update ET_BUSIFORM_TB set FILE_NAME = '',REAL_NAME = '',FILE_PATH = '',FILE_EXT = ''
    where FORM_ID = #{formId,jdbcType=VARCHAR}
  </update>
  
  
   <select id="getOverDurDays" parameterType="java.util.HashMap" resultType="java.lang.String" databaseId="oracle">
  	SELECT SP_GET_OVER_WORKDAYS(#{backDate,jdbcType=VARCHAR},#{endDate,jdbcType=VARCHAR}) ODAYS FROM DUAL
  </select>

  <select id="getOverDurDays" parameterType="java.util.HashMap" resultType="java.lang.String" databaseId="db2">
  	select SP_GET_OVER_WORKDAYS(#{backDate,jdbcType=VARCHAR},#{endDate,jdbcType=VARCHAR})  ODAYS from sysibm.sysdummy1
  </select>
  
  
  <select id="getOverDurDays1" parameterType="java.lang.String" resultType="java.lang.String" databaseId="oracle">
  	SELECT SP_GET_OVER_WORKDAYS(#{backDate,jdbcType=VARCHAR},(SELECT TO_CHAR(SYSDATE,'YYYYMMDD') FROM DUAL)) ODAYS FROM DUAL
  </select>

  <select id="getOverDurDays1" parameterType="java.lang.String" resultType="java.lang.String" databaseId="db2">
    select SP_GET_OVER_WORKDAYS(#{backDate,jdbcType=VARCHAR},TO_CHAR(SYSDATE,'YYYYMMDD'))  ODAYS from sysibm.sysdummy1
  </select>

  <select id="queryFlowNo" parameterType="com.sunyard.ars.system.bean.et.BusiForm" resultType="map">
  SELECT count(form_id) cnt,form_id
  FROM ET_BUSIFORM_TB T WHERE T.NET_NO=#{netNo,jdbcType=VARCHAR} AND T.TELLER_NO=#{tellerNo,jdbcType=VARCHAR}  AND T.OPERATION_DATE=#{operationDate,jdbcType=VARCHAR}  AND T.FLOW_NO=#{flowNo,jdbcType=VARCHAR} 
  group by form_id
  </select>
  
</mapper>